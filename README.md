# ì „ì‹œíšŒ í‹°ì¼“ ì˜ˆì•½ ì‹œìŠ¤í…œ ê°€ì´ë“œ

> **í”„ë¡œì íŠ¸ëª…**: ì „ì‹œíšŒ í‹°ì¼“ ì˜ˆì•½ ì‹œìŠ¤í…œ  
> **ëª©í‘œ**: ê³ ì„±ëŠ¥ ë‹¤ì¤‘ ì „ì‹œíšŒ í‹°ì¼“ ì˜ˆì•½ ë° ê´€ë¦¬ ì‹œìŠ¤í…œ  
> **ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­**: ë™ì‹œ ì ‘ì†ì 1ë§Œëª… ì²˜ë¦¬ ê°€ëŠ¥  
> **ì‘ì„±ì¼**: 2025.07.25  
> **ë²„ì „**: v2.0 (ë‹¤ì¤‘ ì „ì‹œíšŒ ê´€ë¦¬ í”Œë¡œìš° ë³´ì™„)

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ë‹¤ì¤‘ ì „ì‹œíšŒ ê´€ë¦¬ ì‹œìŠ¤í…œ í”Œë¡œìš°](#-ë‹¤ì¤‘-ì „ì‹œíšŒ-ê´€ë¦¬-ì‹œìŠ¤í…œ-í”Œë¡œìš°)
3. [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
4. [ê°œë°œ ë‹¨ê³„ë³„ ê³„íš](#-ê°œë°œ-ë‹¨ê³„ë³„-ê³„íš)
5. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
6. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#-ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
7. [ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ ì‹œìŠ¤í…œ](#-ê¶Œí•œ-ê¸°ë°˜-ì ‘ê·¼-ì œì–´-ì‹œìŠ¤í…œ)
8. [API ì„¤ê³„](#-api-ì„¤ê³„)
9. [í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°](#-í”„ë¡ íŠ¸ì—”ë“œ-êµ¬ì¡°)
10. [ì„±ëŠ¥ ìµœì í™” ì „ëµ](#-ì„±ëŠ¥-ìµœì í™”-ì „ëµ)
11. [ê°œë°œ í™˜ê²½ êµ¬ì„±](#-ê°œë°œ-í™˜ê²½-êµ¬ì„±)
12. [ë³´ì•ˆ ì„¤ì •](#-ë³´ì•ˆ-ì„¤ì •)
13. [í…ŒìŠ¤íŠ¸ ì „ëµ](#-í…ŒìŠ¤íŠ¸-ì „ëµ)
14. [ë°°í¬ ë° ìš´ì˜](#-ë°°í¬-ë°-ìš´ì˜)
15. [ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…](#-ëª¨ë‹ˆí„°ë§-ë°-ë¡œê¹…)
16. [ë¬¸ì œ í•´ê²° ê°€ì´ë“œ](#-ë¬¸ì œ-í•´ê²°-ê°€ì´ë“œ)
17. [ìš´ì˜ ë§¤ë‰´ì–¼](#-ìš´ì˜-ë§¤ë‰´ì–¼)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### ğŸ“Œ ì‹œìŠ¤í…œ ê°œìš”
ì „ì‹œíšŒ í‹°ì¼“ ì˜ˆì•½ ì‹œìŠ¤í…œì€ **ê³ ì„±ëŠ¥ ë‹¤ì¤‘ ì „ì‹œíšŒ ê´€ë¦¬**ë¥¼ ìœ„í•œ í’€ìŠ¤íƒ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. ìŠˆí¼ ê´€ë¦¬ìê°€ ì „ì‹œíšŒë¥¼ ìƒì„±í•˜ê³  ë‹´ë‹¹ìë¥¼ ë°°ì •í•˜ë©´, ê° ë‹´ë‹¹ìê°€ ë…ë¦½ì ìœ¼ë¡œ ìì‹ ì˜ ì „ì‹œíšŒë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” **ë©€í‹° í…Œë„ŒíŠ¸ ì•„í‚¤í…ì²˜**ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ğŸª í•µì‹¬ ê¸°ëŠ¥

#### ì‚¬ìš©ì ê¸°ëŠ¥
- **ì‹¤ì‹œê°„ í‹°ì¼“ ì˜ˆì•½ ì‹œìŠ¤í…œ**: ë™ì‹œ ì ‘ì†ì 1ë§Œëª… ì²˜ë¦¬ ê°€ëŠ¥
- **í† ìŠ¤í˜ì´ë¨¼ì¸  ê²°ì œ ì—°ë™**: ì•ˆì „í•œ ì¹´ë“œê²°ì œ ì‹œìŠ¤í…œ  
- **ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡**: ì˜ˆì•½ í™•ì¸ ë° ì•Œë¦¼ ì„œë¹„ìŠ¤
- **QRì½”ë“œ í˜„ì¥ ì…ì¥ ê´€ë¦¬**: PWA ê¸°ë°˜ ëª¨ë°”ì¼ ì•±
- **ë‹¤ì¤‘ ì „ì‹œíšŒ ì§€ì›**: URL ê²½ë¡œë³„ ë…ë¦½ ìš´ì˜ (/aaa, /bbb, /ccc)

#### ê´€ë¦¬ì ê¸°ëŠ¥ (NEW )
- **ìŠˆí¼ ê´€ë¦¬ì ì‹œìŠ¤í…œ**: ì „ì‹œíšŒ ìƒì„±, ë‹´ë‹¹ì ê´€ë¦¬, ì „ì²´ í†µê³„
- **ì „ì‹œíšŒ ë‹´ë‹¹ì ì‹œìŠ¤í…œ**: ìƒí’ˆ ê´€ë¦¬, ì£¼ë¬¸ ê´€ë¦¬, ì…ì¥ ê´€ë¦¬
- **ê¶Œí•œ ë ˆë²¨ ê´€ë¦¬**: 1~9 ë‹¨ê³„ ê¶Œí•œ ì²´ê³„
- **í™œë™ ë¡œê·¸ ì¶”ì **: ëª¨ë“  ê´€ë¦¬ì í™œë™ ê¸°ë¡
- **ëŒ€ì‹œë³´ë“œ**: ì‹¤ì‹œê°„ í†µê³„ ë° ë¶„ì„

### ğŸš€ ì„±ëŠ¥ ëª©í‘œ
- **ë™ì‹œ ì ‘ì†**: 1ë§Œëª…/1ë¶„ ì²˜ë¦¬ ê°€ëŠ¥
- **ì‘ë‹µ ì‹œê°„**: í‰ê·  200ms ì´í•˜  
- **ê°€ìš©ì„±**: 99.9% ì—…íƒ€ì„
- **í™•ì¥ì„±**: ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥í•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜

---

## ğŸ¢ ë‹¤ì¤‘ ì „ì‹œíšŒ ê´€ë¦¬ ì‹œìŠ¤í…œ í”Œë¡œìš°

### ğŸ”„ ì „ì²´ ê´€ë¦¬ í”Œë¡œìš°

```mermaid
graph TB
    %% ì‚¬ìš©ì ì§„ì…ì 
    User[ğŸ‘¤ ì‚¬ìš©ì] --> WebSite[ğŸŒ ì›¹ì‚¬ì´íŠ¸ ì ‘ì†<br/>domain.com/aaa]
    Admin[ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì] --> AdminPanel[ğŸ”§ ê´€ë¦¬ì íŒ¨ë„<br/>domain.com/admin]
    Staff[ğŸ‘©â€ğŸ’¼ í˜„ì¥ì§ì›] --> PWAApp[ğŸ“± PWA ìŠ¤ìºë„ˆ ì•±<br/>domain.com/scanner]

    %% ì›¹ì‚¬ì´íŠ¸ íë¦„
    WebSite --> ExhibitionCheck{ì „ì‹œíšŒ ì½”ë“œ<br/>ìœ íš¨ì„± ê²€ì‚¬}
    ExhibitionCheck -->|ìœ íš¨| ExhibitionHome[ğŸ¨ ì „ì‹œíšŒ í™ˆí˜ì´ì§€]
    ExhibitionCheck -->|ë¬´íš¨| ErrorPage[âŒ 404 ì—ëŸ¬]
    
    ExhibitionHome --> TicketSelect[ğŸ« í‹°ì¼“ ì„ íƒ<br/>- ì„±ì¸/ì²­ì†Œë…„/ì–´ë¦°ì´<br/>- ìˆ˜ëŸ‰ ì„ íƒ<br/>- ì…ì¥ì¼ì ì„ íƒ]
    
    TicketSelect --> CustomerInfo[ğŸ“ ê³ ê°ì •ë³´ ì…ë ¥<br/>- ì´ë¦„<br/>- ì—°ë½ì²˜<br/>- ì´ë©”ì¼]
    
    CustomerInfo --> StockCheck{ì¬ê³  í™•ì¸<br/>Redis}
    StockCheck -->|ì¬ê³  ë¶€ì¡±| StockError[âŒ ì¬ê³  ë¶€ì¡± ì•ˆë‚´]
    StockCheck -->|ì¬ê³  ì¶©ë¶„| StockReserve[ğŸ”’ ì¬ê³  ì„ì‹œ ì˜ˆì•½<br/>Redis Lock]
    
    StockReserve --> PaymentPage[ğŸ’³ ê²°ì œ í˜ì´ì§€<br/>í† ìŠ¤í˜ì´ë¨¼ì¸ ]
    
    PaymentPage --> PaymentProcess{ê²°ì œ ì²˜ë¦¬}
    PaymentProcess -->|ì„±ê³µ| PaymentSuccess[âœ… ê²°ì œ ì™„ë£Œ]
    PaymentProcess -->|ì‹¤íŒ¨| PaymentFail[âŒ ê²°ì œ ì‹¤íŒ¨]
    PaymentProcess -->|ì·¨ì†Œ| PaymentCancel[ğŸš« ê²°ì œ ì·¨ì†Œ]
    
    PaymentFail --> StockRelease1[ğŸ”“ ì¬ê³  í•´ì œ]
    PaymentCancel --> StockRelease2[ğŸ”“ ì¬ê³  í•´ì œ]
    
    PaymentSuccess --> OrderCreate[ğŸ“‹ ì£¼ë¬¸ ìƒì„±<br/>PostgreSQL]
    OrderCreate --> QRGenerate[ğŸ”² QRì½”ë“œ ìƒì„±]
    QRGenerate --> KakaoSend[ğŸ“² ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ë°œì†¡]
    KakaoSend --> OrderComplete[âœ… ì˜ˆì•½ ì™„ë£Œ]

    %% ê´€ë¦¬ì íŒ¨ë„ íë¦„
    AdminPanel --> AdminLogin{ê´€ë¦¬ì ë¡œê·¸ì¸}
    AdminLogin -->|ì‹¤íŒ¨| AdminLoginFail[âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨]
    AdminLogin -->|ì„±ê³µ| AdminDashboard[ğŸ“Š ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ]
    
    AdminDashboard --> AdminMenus{ê´€ë¦¬ ë©”ë‰´}
    AdminMenus --> ProductMgmt[ğŸ« ìƒí’ˆ ê´€ë¦¬<br/>- í‹°ì¼“ ì¢…ë¥˜ ë“±ë¡<br/>- ê°€ê²© ì„¤ì •<br/>- ì¬ê³  ê´€ë¦¬]
    AdminMenus --> OrderMgmt[ğŸ“‹ ì£¼ë¬¸ ê´€ë¦¬<br/>- ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ<br/>- í™˜ë¶ˆ ì²˜ë¦¬<br/>- ê³ ê° ì •ë³´]
    AdminMenus --> StatsMgmt[ğŸ“ˆ í†µê³„ ê´€ë¦¬<br/>- ë§¤ì¶œ í†µê³„<br/>- ì…ì¥ í†µê³„<br/>- ì‹¤ì‹œê°„ í˜„í™©]
    AdminMenus --> InvitationMgmt[ğŸŸï¸ ì´ˆëŒ€ê¶Œ ê´€ë¦¬<br/>- ì—…ì²´ë³„ ì´ˆëŒ€ê¶Œ ë°œê¸‰<br/>- ì‚¬ìš© í˜„í™© ì¶”ì ]
    
    ProductMgmt --> RedisSync1[ğŸ”„ Redis ì¬ê³  ë™ê¸°í™”]
    OrderMgmt --> DBUpdate1[ğŸ’¾ DB ì—…ë°ì´íŠ¸]
    
    %% PWA ìŠ¤ìºë„ˆ ì•± íë¦„
    PWAApp --> PWALogin{í˜„ì¥ì§ì› ë¡œê·¸ì¸}
    PWALogin -->|ì‹¤íŒ¨| PWALoginFail[âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨]
    PWALogin -->|ì„±ê³µ| PWAScanner[ğŸ“· QR ìŠ¤ìºë„ˆ]
    
    PWAScanner --> QRScan[ğŸ“¸ QRì½”ë“œ ìŠ¤ìº”]
    QRScan --> QRValidate{QR ìœ íš¨ì„± ê²€ì¦}
    QRValidate -->|ë¬´íš¨| QRInvalid[âŒ ë¬´íš¨í•œ QRì½”ë“œ]
    QRValidate -->|ì´ë¯¸ ì‚¬ìš©| QRUsed[âš ï¸ ì´ë¯¸ ì…ì¥í•œ í‹°ì¼“]
    QRValidate -->|ìœ íš¨| QRValid[âœ… ìœ íš¨í•œ í‹°ì¼“]
    
    QRValid --> EntryConfirm[ğŸšª ì…ì¥ í™•ì¸<br/>- ê³ ê° ì •ë³´ í‘œì‹œ<br/>- ì…ì¥ ë²„íŠ¼]
    EntryConfirm --> EntryProcess{ì…ì¥ ì²˜ë¦¬}
    EntryProcess -->|í™•ì¸| EntrySuccess[âœ… ì…ì¥ ì™„ë£Œ<br/>DB í”Œë˜ê·¸ ì—…ë°ì´íŠ¸]
    EntryProcess -->|ì·¨ì†Œ| EntryCanceled[ğŸš« ì…ì¥ ì·¨ì†Œ]
    
    EntrySuccess --> EntryLog[ğŸ“ ì…ì¥ ë¡œê·¸ ê¸°ë¡]
    EntrySuccess --> PWAScanner

    %% ì´ˆëŒ€ê¶Œ ì‹œìŠ¤í…œ íë¦„
    InvitationMgmt --> InviteCreate[ğŸ“§ ì´ˆëŒ€ê¶Œ ìƒì„±<br/>- ì—…ì²´ëª… ì…ë ¥<br/>- ìˆ˜ëŸ‰ ì„¤ì •]
    InviteCreate --> InviteLink[ğŸ”— ì´ˆëŒ€ ë§í¬ ìƒì„±]
    InviteLink --> InviteSend[ğŸ“¤ ì—…ì²´ì— ë§í¬ ì „ì†¡]
    
    InviteSend --> InviteAccess[ğŸŸï¸ ì—…ì²´ ì§ì›ì´<br/>ì´ˆëŒ€ ë§í¬ ì ‘ì†]
    InviteAccess --> InviteForm[ğŸ“ ì´ˆëŒ€ê¶Œ ì‹ ì²­ì„œ<br/>- ì§ì› ì—°ë½ì²˜ ì…ë ¥]
    InviteForm --> InviteQR[ğŸ”² ì´ˆëŒ€ê¶Œ QR ìƒì„±]
    InviteQR --> InviteKakao[ğŸ“² ì´ˆëŒ€ê¶Œ ì¹´ì¹´ì˜¤í†¡ ë°œì†¡]

    %% ì‹œìŠ¤í…œ ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤
    subgraph Background[ğŸ”„ ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤]
        StockSync[â° ì¬ê³  ë™ê¸°í™”<br/>Redis â†” PostgreSQL]
        PaymentWebhook[ğŸ”” ê²°ì œ ì›¹í›… ì²˜ë¦¬<br/>í† ìŠ¤í˜ì´ë¨¼ì¸ ]
        LogRotation[ğŸ“ ë¡œê·¸ ìˆœí™˜]
        StatsUpdate[ğŸ“Š í†µê³„ ì—…ë°ì´íŠ¸]
        CacheUpdate[ğŸ—„ï¸ ìºì‹œ ê°±ì‹ ]
    end

    %% ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
    subgraph Database[ğŸ’¾ ë°ì´í„° ì €ì¥ì†Œ]
        PostgreSQL[(ğŸ˜ PostgreSQL<br/>- ì£¼ë¬¸ ë°ì´í„°<br/>- ê³ ê° ì •ë³´<br/>- ìƒí’ˆ ì •ë³´<br/>- ê´€ë¦¬ì ê³„ì •)]
        Redis[(ğŸ”´ Redis<br/>- ì‹¤ì‹œê°„ ì¬ê³ <br/>- ì„¸ì…˜ ê´€ë¦¬<br/>- ìºì‹œ<br/>- ëŒ€ê¸°ì—´)]
    end

    %% ì™¸ë¶€ API ì—°ê²°
    subgraph ExternalAPI[ğŸŒ ì™¸ë¶€ API]
        TossAPI[ğŸ’³ í† ìŠ¤í˜ì´ë¨¼ì¸  API]
        KakaoAPI[ğŸ“± ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ API]
    end

    %% ë°ì´í„° íë¦„ ì—°ê²°
    OrderCreate --> PostgreSQL
    StockReserve --> Redis
    PaymentProcess --> TossAPI
    KakaoSend --> KakaoAPI
    QRValidate --> PostgreSQL
    EntrySuccess --> PostgreSQL

    %% ìŠ¤íƒ€ì¼ë§
    classDef userClass fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef adminClass fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef processClass fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    classDef errorClass fill:#ffebee,stroke:#b71c1c,stroke-width:2px
    classDef successClass fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef dbClass fill:#fff3e0,stroke:#e65100,stroke-width:3px
    classDef apiClass fill:#fce4ec,stroke:#880e4f,stroke-width:2px

    class User,WebSite,ExhibitionHome,TicketSelect,CustomerInfo,PaymentPage userClass
    class Admin,AdminPanel,AdminDashboard,ProductMgmt,OrderMgmt,StatsMgmt adminClass
    class Staff,PWAApp,PWAScanner,QRScan,EntryConfirm processClass
    class ErrorPage,StockError,PaymentFail,PaymentCancel errorClass
    class PaymentSuccess,OrderComplete,EntrySuccess,QRValid successClass
    class PostgreSQL,Redis dbClass
    class TossAPI,KakaoAPI apiClass
```

### ğŸ‘¥ ì‚¬ìš©ì ì—­í•  ì •ì˜

#### ìŠˆí¼ ê´€ë¦¬ì (Super Admin, Level 9)
```
ê¶Œí•œ:
âœ… ì „ì‹œíšŒ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
âœ… ëª¨ë“  ì „ì‹œíšŒ ë‹´ë‹¹ì ê´€ë¦¬
âœ… ì „ì²´ ì‹œìŠ¤í…œ í†µê³„ ì¡°íšŒ
âœ… ì‹œìŠ¤í…œ ì„¤ì • ê´€ë¦¬
âœ… ëª¨ë“  ì „ì‹œíšŒ ë°ì´í„° ì ‘ê·¼

ì ‘ê·¼ URL:
- /super-admin/dashboard
- /super-admin/exhibitions
- /super-admin/managers
- /super-admin/statistics
```

#### ì „ì‹œíšŒ ë‹´ë‹¹ì (Exhibition Manager, Level 3)
```
ê¶Œí•œ:
âœ… ìì‹ ì´ ë‹´ë‹¹í•˜ëŠ” ì „ì‹œíšŒë§Œ ê´€ë¦¬
âœ… ìƒí’ˆ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ
âœ… ì£¼ë¬¸ë‚´ì—­ ì¡°íšŒ/ê´€ë¦¬
âœ… ì…ì¥ ê´€ë¦¬ (QR ìŠ¤ìº”)
âœ… ì „ì‹œíšŒë³„ í†µê³„ ì¡°íšŒ
âŒ ë‹¤ë¥¸ ì „ì‹œíšŒ ë°ì´í„° ì ‘ê·¼ ë¶ˆê°€

ì ‘ê·¼ URL:
- /admin/dashboard
- /admin/products
- /admin/orders
- /admin/entrance
```

#### ì¼ë°˜ ê´€ë¦¬ì (Staff, Level 2)
```
ê¶Œí•œ:
âœ… ìƒí’ˆ ë“±ë¡/ìˆ˜ì •ë§Œ ê°€ëŠ¥
âœ… ì£¼ë¬¸ë‚´ì—­ ì¡°íšŒë§Œ ê°€ëŠ¥
âŒ ì‚­ì œ ê¶Œí•œ ì—†ìŒ
âŒ í†µê³„ ì ‘ê·¼ ì œí•œ

ì ‘ê·¼ URL:
- /admin/products (ì½ê¸°/ì“°ê¸°)
- /admin/orders (ì½ê¸° ì „ìš©)
```

#### ì¡°íšŒ ì „ìš© (Viewer, Level 1)
```
ê¶Œí•œ:
âœ… í†µê³„ ë° ì£¼ë¬¸ë‚´ì—­ ì¡°íšŒë§Œ ê°€ëŠ¥
âŒ ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ ì—†ìŒ

ì ‘ê·¼ URL:
- /admin/dashboard (ì½ê¸° ì „ìš©)
- /admin/orders (ì½ê¸° ì „ìš©)
```

### ğŸ« ì „ì‹œíšŒë³„ ë…ë¦½ ìš´ì˜ êµ¬ì¡°

```
ë„ë©”ì¸: exhibition.example.com

ì „ì‹œíšŒ A: /aaa/
ì „ì‹œíšŒ B: /bbb/  
ì „ì‹œíšŒ C: /ccc/

ê° ì „ì‹œíšŒë§ˆë‹¤:
- ë…ë¦½ì ì¸ URL ê²½ë¡œ
- ë…ë¦½ì ì¸ ìƒí’ˆ ê´€ë¦¬
- ë…ë¦½ì ì¸ ì£¼ë¬¸ ê´€ë¦¬
- ë…ë¦½ì ì¸ í†µê³„
- ë…ë¦½ì ì¸ ë‹´ë‹¹ì ê¶Œí•œ
```

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend ê¸°ìˆ 
- **Framework**: React 18 + Next.js 14
- **Language**: JavaScript (ES6+) â†’ TypeScript ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜ˆì •
- **Styling**: SCSS/CSS Modules (Tailwind CSS ëŒ€ì‹ )
- **State Management**: React Query/SWR
- **PWA**: Service Worker + Web App Manifest + Workbox
- **QR Scanner**: PWA Camera API + QR Scanner ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Authentication**: JWT + ê¶Œí•œ ê¸°ë°˜ ë¼ìš°íŒ…

### Backend ê¸°ìˆ 
- **Framework**: Python 3.12 + FastAPI
- **ORM**: SQLAlchemy (ë¹„ë™ê¸° ì§€ì›)
- **Validation**: Pydantic
- **Server**: Uvicorn + Gunicorn (ë©€í‹°ì›Œì»¤)
- **Async**: asyncio/await íŒ¨í„´
- **Authentication**: JWT + ê¶Œí•œ ë¯¸ë“¤ì›¨ì–´

### Database & Cache
- **Main DB**: PostgreSQL 16+
- **Cache**: Redis 7+
- **Connection Pool**: asyncpg + aioredis
- **Migration**: Alembic

### Infrastructure
- **OS**: Ubuntu 24.04 LTS (8ì½”ì–´ 32GB)
- **Proxy**: nginx (ë¡œë“œë°¸ëŸ°ì‹±)
- **Deployment**: Native ì„¤ì¹˜ (Docker ë¯¸ì‚¬ìš©)
- **Cloud**: AWS (í–¥í›„ ê³„íš)

### External APIs
- **Payment**: í† ìŠ¤í˜ì´ë¨¼ì¸  API v1
- **Notification**: ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ API
- **QR**: PWA Camera API + QR Scanner

### Development Tools
- **Code Editor**: VS Code
- **API Testing**: Postman
- **DB Management**: HeidiSQL
- **Redis Management**: RedisInsight
- **Version Control**: Git

---

## ğŸ“ˆ ê°œë°œ ë‹¨ê³„ë³„ ê³„íš

### 1ë‹¨ê³„: ì‹œìŠ¤í…œ ì„¤ê³„ & êµ¬ì¡° ì •ì˜ âœ…
- [x] ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„
- [x] **ë‹¤ì¤‘ ì „ì‹œíšŒ ê´€ë¦¬ í”Œë¡œìš° ì„¤ê³„** 
- [x] **ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ ì‹œìŠ¤í…œ ì„¤ê³„**   
- [x] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ (ê¶Œí•œ í…Œì´ë¸” í¬í•¨)
- [x] API ì—”ë“œí¬ì¸íŠ¸ êµ¬ì¡° ì„¤ê³„
- [x] í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€ êµ¬ì¡° ì„¤ê³„ (ê´€ë¦¬ì í˜ì´ì§€ í¬í•¨)
- [x] ì„±ëŠ¥ ìµœì í™” ì „ëµ ìˆ˜ë¦½

### 2ë‹¨ê³„: ë¡œì»¬ ê°œë°œí™˜ê²½ êµ¬ì¶• ğŸ”„
- [ ] í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
- [ ] **ìŠˆí¼ ê´€ë¦¬ì ë° ë‹´ë‹¹ì ì‹œìŠ¤í…œ êµ¬ì¡° ìƒì„±** 
- [ ] FastAPI ë°±ì—”ë“œ ê¸°ë³¸ ì„¤ì • (Native í™˜ê²½)
- [ ] Next.js í”„ë¡ íŠ¸ì—”ë“œ ê¸°ë³¸ ì„¤ì • (Native í™˜ê²½)
- [ ] PostgreSQL + Redis Native ì„¤ì¹˜
- [ ] **ê¶Œí•œ ê¸°ë°˜ ë¯¸ë“¤ì›¨ì–´ ê¸°ë³¸ êµ¬í˜„** 
- [ ] í™˜ê²½ë³€ìˆ˜ ë° ì„¤ì • íŒŒì¼ êµ¬ì„±

### 3ë‹¨ê³„: DB / Redis êµ¬ì„± ë° ê¶Œí•œ ì‹œìŠ¤í…œ
- [ ] PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•
- [ ] **ë‹¤ì¤‘ ê´€ë¦¬ì í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ì ìš©** 
- [ ] Redis ìºì‹œ ì„œë²„ êµ¬ì¶•
- [ ] **ê¶Œí•œ ê¸°ë°˜ ë°ì´í„° ì ‘ê·¼ ë¡œì§ êµ¬í˜„** 
- [ ] ì´ˆê¸° ë°ì´í„° ë° í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
- [ ] **ìŠˆí¼ ê´€ë¦¬ì ê³„ì • ì´ˆê¸° ìƒì„±** 
- [ ] ì—°ê²° í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### 4ë‹¨ê³„: ë°±ì—”ë“œ (FastAPI) ê¸°ëŠ¥ êµ¬í˜„
- [ ] **ê¶Œí•œ ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„** 
- [ ] **ìŠˆí¼ ê´€ë¦¬ì API êµ¬í˜„** 
- [ ] **ì „ì‹œíšŒ ë‹´ë‹¹ì API êµ¬í˜„** 
- [ ] ê¸°ë³¸ CRUD API êµ¬í˜„
- [ ] ì˜ˆì•½ ë° ì¬ê³  ê´€ë¦¬ ë¡œì§
- [ ] ê²°ì œ API ì—°ë™
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] **í™œë™ ë¡œê·¸ ì‹œìŠ¤í…œ êµ¬í˜„** 

### 5ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ (Next.js) í™”ë©´ êµ¬ì„±
- [ ] **ê¶Œí•œ ê¸°ë°˜ ë¼ìš°íŒ… ì‹œìŠ¤í…œ êµ¬í˜„** 
- [ ] **ìŠˆí¼ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ êµ¬í˜„** 
- [ ] **ì „ì‹œíšŒ ë‹´ë‹¹ì ëŒ€ì‹œë³´ë“œ êµ¬í˜„** 
- [ ] ê¸°ë³¸ ë ˆì´ì•„ì›ƒ ë° ì»´í¬ë„ŒíŠ¸
- [ ] ì˜ˆì•½ í˜ì´ì§€ êµ¬í˜„
- [ ] ê²°ì œ í˜ì´ì§€ êµ¬í˜„
- [ ] PWA ì…ì¥ ê´€ë¦¬ ì•±

### 6ë‹¨ê³„: ë‹¤ì¤‘ ì „ì‹œíšŒ ê´€ë¦¬ ê¸°ëŠ¥ ì™„ì„± 
- [ ] **ì „ì‹œíšŒ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥**
- [ ] **ë‹´ë‹¹ì ê³„ì • ìƒì„± ë° ê¶Œí•œ ê´€ë¦¬**
- [ ] **ì „ì‹œíšŒë³„ ë…ë¦½ ìƒí’ˆ ê´€ë¦¬**
- [ ] **ì „ì‹œíšŒë³„ ë…ë¦½ ì£¼ë¬¸ ê´€ë¦¬**
- [ ] **ì „ì‹œíšŒë³„ í†µê³„ ë° ë¶„ì„**
- [ ] **í™œë™ ë¡œê·¸ ëŒ€ì‹œë³´ë“œ**

### 7ë‹¨ê³„: ê³µí†µ ê¸°ëŠ¥ ì¶”ê°€
- [ ] ì…ë ¥ ê²€ì¦ ì‹œìŠ¤í…œ
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ë¡œì§
- [ ] ë¡œë”©/ì—ëŸ¬/í† ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸
- [ ] ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§
- [ ] **ê¶Œí•œë³„ ë©”ë‰´ ì œì–´** 
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

### 8ë‹¨ê³„: ì˜ˆì•½ / ì˜ˆë§¤ / ëŒ€ê¸°ì—´ ë¡œì§ êµ¬í˜„
- [ ] Redis ê¸°ë°˜ ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ
- [ ] ì‹¤ì‹œê°„ ì¬ê³  ê´€ë¦¬
- [ ] ì˜¤ë²„ì…€ë§ ë°©ì§€ ë¡œì§
- [ ] ì„ì‹œ ì˜ˆì•½ ë° íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬
- [ ] ë™ì‹œì„± ì œì–´ êµ¬í˜„

### 9ë‹¨ê³„: í…ŒìŠ¤íŠ¸ & ë¡œë“œ ì²´í¬
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ êµ¬í˜„
- [ ] **ê¶Œí•œ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸** 
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (ë¶€í•˜ í…ŒìŠ¤íŠ¸)
- [ ] ë³´ì•ˆ í…ŒìŠ¤íŠ¸
- [ ] ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸

### 10ë‹¨ê³„: ë°°í¬ ë° ë³´ì•ˆ ì„¤ì •
- [ ] í”„ë¡œë•ì…˜ í™˜ê²½ êµ¬ì„±
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- [ ] SSL/TLS ì¸ì¦ì„œ ì ìš©
- [ ] ë°©í™”ë²½ ë° ë³´ì•ˆ ì„¤ì •
- [ ] **ê¶Œí•œ ê¸°ë°˜ ë³´ì•ˆ ì •ì±… ì ìš©** 
- [ ] ë°±ì—… ë° ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ

### 11ë‹¨ê³„: ìš´ì˜ëª¨ë“œ ì „í™˜
- [ ] ì‹¤ìš´ì˜ í™˜ê²½ ë°°í¬
- [ ] ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ êµ¬ì¶•
- [ ] **ê´€ë¦¬ìë³„ ìš´ì˜ ë§¤ë‰´ì–¼ ì‘ì„±** 
- [ ] ì¥ì•  ëŒ€ì‘ ì ˆì°¨ ìˆ˜ë¦½
- [ ] ì„±ëŠ¥ íŠœë‹ ë° ìµœì í™”

---

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡° (ë‹¤ì¤‘ ê´€ë¦¬ì ì§€ì›)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì˜ˆì•½ í˜ì´ì§€ â”‚ ê²°ì œ í˜ì´ì§€ â”‚ í™•ì¸ í˜ì´ì§€ â”‚ PWA ì…ì¥ê´€ë¦¬ ì•±     â”‚
â”‚ (/aaa, /bbb)â”‚ (í† ìŠ¤ê²°ì œ)  â”‚ (QR ìƒì„±)   â”‚ (QR ìŠ¤ìº”)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ìŠˆí¼ ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì „ì‹œíšŒ ê´€ë¦¬ â”‚ ë‹´ë‹¹ì ê´€ë¦¬ â”‚ ì „ì²´ í†µê³„   â”‚ ì‹œìŠ¤í…œ ì„¤ì •         â”‚
â”‚ (/super-admin/exhibitions) â”‚ (/super-admin/stats) â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ì „ì‹œíšŒ ë‹´ë‹¹ì ì¸í„°í˜ì´ìŠ¤                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ìƒí’ˆ ê´€ë¦¬   â”‚ ì£¼ë¬¸ ê´€ë¦¬   â”‚ ì…ì¥ ê´€ë¦¬   â”‚ ì „ì‹œíšŒ í†µê³„         â”‚
â”‚ (/admin/products) â”‚ (/admin/orders) â”‚ (/admin/entrance) â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API Gateway (nginx)                     â”‚
â”‚                  - ê¶Œí•œ ê¸°ë°˜ ë¼ìš°íŒ…                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FastAPI ë°±ì—”ë“œ ì„œë²„                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì˜ˆì•½ API    â”‚ ê²°ì œ API    â”‚ìŠˆí¼ê´€ë¦¬ìAPIâ”‚ ë‹´ë‹¹ì API        â”‚
â”‚ ì¬ê³  ê´€ë¦¬   â”‚ ì›¹í›… ì²˜ë¦¬   â”‚ì „ì‹œíšŒ ê´€ë¦¬  â”‚ ìƒí’ˆ/ì£¼ë¬¸ ê´€ë¦¬      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL  â”‚    â”‚    Redis    â”‚    â”‚ ì™¸ë¶€ API    â”‚
â”‚ (ë©”ì¸ DB)   â”‚    â”‚ (ìºì‹œ/ëŒ€ê¸°ì—´)â”‚   â”‚ í† ìŠ¤/ì¹´ì¹´ì˜¤ â”‚
â”‚ê¶Œí•œ/í™œë™ë¡œê·¸â”‚    â”‚ì „ì‹œíšŒë³„ ì¬ê³ â”‚    â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì»´í¬ë„ŒíŠ¸ë³„ ì—­í• 

#### Frontend (Next.js + React)
- **ì¼ë°˜ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤**: ë°˜ì‘í˜• ì›¹ ë””ìì¸
- **ìŠˆí¼ ê´€ë¦¬ì ì¸í„°í˜ì´ìŠ¤** : ì „ì‹œíšŒ ìƒì„±, ë‹´ë‹¹ì ê´€ë¦¬
- **ì „ì‹œíšŒ ë‹´ë‹¹ì ì¸í„°í˜ì´ìŠ¤** : ìƒí’ˆ ê´€ë¦¬, ì£¼ë¬¸ ê´€ë¦¬  
- **ê¶Œí•œ ê¸°ë°˜ ë¼ìš°íŒ…** : PermissionGuard ì»´í¬ë„ŒíŠ¸
- **PWA ê¸°ëŠ¥**: ì˜¤í”„ë¼ì¸ ì§€ì›, í‘¸ì‹œ ì•Œë¦¼
- **QR ìŠ¤ìº”**: ì¹´ë©”ë¼ API í™œìš© í˜„ì¥ ì…ì¥ ê´€ë¦¬

#### Backend (FastAPI)
- **API ì„œë²„**: RESTful API ì œê³µ
- **ê¶Œí•œ ë¯¸ë“¤ì›¨ì–´** : JWT + ê¶Œí•œ ë ˆë²¨ ê²€ì¦
- **ë‹¤ì¤‘ ì „ì‹œíšŒ ë¡œì§** : ì „ì‹œíšŒë³„ ë°ì´í„° ê²©ë¦¬
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§**: ì˜ˆì•½, ê²°ì œ, ì¬ê³  ê´€ë¦¬
- **ì™¸ë¶€ ì—°ë™**: ê²°ì œ, ì•Œë¦¼ API í†µí•©
- **í™œë™ ë¡œê·¸** : ëª¨ë“  ê´€ë¦¬ì í™œë™ ì¶”ì 

#### Database (PostgreSQL)
- **ì‚¬ìš©ì ë°ì´í„°**: ìŠˆí¼ ê´€ë¦¬ì, ì „ì‹œíšŒ ë‹´ë‹¹ì 
- **ì „ì‹œíšŒ ë°ì´í„°**: ë‹¤ì¤‘ ì „ì‹œíšŒ ê´€ë¦¬ 
- **ê¶Œí•œ ë°ì´í„°**: ê¶Œí•œ ë ˆë²¨, ì ‘ê·¼ ì œì–´ 
- **í™œë™ ë¡œê·¸**: ê´€ë¦¬ì í™œë™ ì¶”ì  
- **ì£¼ë¬¸ ë°ì´í„°**: ì£¼ë¬¸, ìƒí’ˆ, ê²°ì œ ì •ë³´
- **ê´€ê³„í˜• ë°ì´í„°**: ì •ê·œí™”ëœ ìŠ¤í‚¤ë§ˆ

#### Cache (Redis)
- **ì „ì‹œíšŒë³„ ì„¸ì…˜**: ì‚¬ìš©ì ëŒ€ê¸°ì—´ ìƒíƒœ 
- **ì „ì‹œíšŒë³„ ì¬ê³ **: ë¹ ë¥¸ ì¬ê³  ì¡°íšŒ/ì°¨ê° 
- **ê¶Œí•œ ìºì‹œ**: JWT í† í° ê²€ì¦ ìºì‹œ 
- **ì„ì‹œ ë°ì´í„°**: ê²°ì œ ì§„í–‰ ì¤‘ ë°ì´í„°

---

## ğŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### í•µì‹¬ í…Œì´ë¸” êµ¬ì¡° (ë‹¤ì¤‘ ê´€ë¦¬ì ì§€ì›)

#### 1. ìŠˆí¼ ê´€ë¦¬ì (super_admins) 
```sql
CREATE TABLE super_admins (
    id SERIAL PRIMARY KEY,
    username VARCHAR(100) UNIQUE NOT NULL,      -- ìŠˆí¼ê´€ë¦¬ì ì•„ì´ë””
    password_hash VARCHAR(255) NOT NULL,        -- ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ
    name VARCHAR(100) NOT NULL,                 -- ì‹¤ëª…
    email VARCHAR(200),                         -- ì´ë©”ì¼
    phone VARCHAR(20),                          -- ì—°ë½ì²˜
    is_active BOOLEAN DEFAULT true,             -- í™œì„± ìƒíƒœ
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N)
    last_login TIMESTAMP,                       -- ë§ˆì§€ë§‰ ë¡œê·¸ì¸
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- ìŠˆí¼ ê´€ë¦¬ì ì¸ë±ìŠ¤
CREATE INDEX idx_super_admins_username ON super_admins(username);
CREATE INDEX idx_super_admins_email ON super_admins(email);
```

#### 2. ì „ì‹œíšŒ ê´€ë¦¬ (exhibitions) - ë³´ì™„
```sql
CREATE TABLE exhibitions (
    id SERIAL PRIMARY KEY,
    code VARCHAR(50) UNIQUE NOT NULL,           -- ì „ì‹œíšŒ ì½”ë“œ (aaa, bbb)
    name VARCHAR(200) NOT NULL,                 -- ì „ì‹œíšŒ ëª…
    description TEXT,                           -- ì„¤ëª…
    thumbnail_image VARCHAR(500),               -- ëŒ€í‘œ ì´ë¯¸ì§€ URL 
    start_date DATE NOT NULL,                   -- ì‹œì‘ì¼
    end_date DATE NOT NULL,                     -- ì¢…ë£Œì¼
    venue VARCHAR(200),                         -- ì¥ì†Œ
    created_by INTEGER REFERENCES super_admins(id), -- ìƒì„±í•œ ìŠˆí¼ê´€ë¦¬ì 
    manager_id INTEGER REFERENCES admin_users(id),  -- ë‹´ë‹¹ ê´€ë¦¬ì 
    is_active BOOLEAN DEFAULT true,             -- í™œì„± ìƒíƒœ
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N) 
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- ì „ì‹œíšŒ ì¸ë±ìŠ¤
CREATE INDEX idx_exhibitions_code ON exhibitions(code);
CREATE INDEX idx_exhibitions_manager ON exhibitions(manager_id);
CREATE INDEX idx_exhibitions_created_by ON exhibitions(created_by);
CREATE INDEX idx_exhibitions_active ON exhibitions(is_active, is_deleted);
```

#### 3. ì „ì‹œíšŒ ë‹´ë‹¹ì (admin_users) - ê¶Œí•œ ì²´ê³„ ë³´ì™„ 
```sql
CREATE TABLE admin_users (
    id SERIAL PRIMARY KEY,
    username VARCHAR(100) UNIQUE NOT NULL,      -- ê´€ë¦¬ì ì•„ì´ë””
    password_hash VARCHAR(255) NOT NULL,        -- ë¹„ë°€ë²ˆí˜¸ í•´ì‹œ
    name VARCHAR(100) NOT NULL,                 -- ì‹¤ëª… 
    email VARCHAR(200),                         -- ì´ë©”ì¼ 
    phone VARCHAR(20),                          -- ì—°ë½ì²˜ 
    exhibition_id INTEGER REFERENCES exhibitions(id), -- ë‹´ë‹¹ ì „ì‹œíšŒ (NULLì´ë©´ ì „ì²´)
    role VARCHAR(50) DEFAULT 'exhibition_manager', -- ì—­í• 
    permission_level INTEGER DEFAULT 3,        -- ê¶Œí•œ ë ˆë²¨ 
    /*
    ê¶Œí•œ ë ˆë²¨ ì •ì˜ :
    1: ì¡°íšŒ ì „ìš© (Viewer) - í†µê³„, ì£¼ë¬¸ë‚´ì—­ ì¡°íšŒë§Œ
    2: ì¼ë°˜ ê´€ë¦¬ì (Staff) - ìƒí’ˆ ë“±ë¡/ìˆ˜ì •, ì£¼ë¬¸ë‚´ì—­ ì¡°íšŒ
    3: ì „ì‹œíšŒ ë‹´ë‹¹ì (Exhibition Manager) - ì „ì‹œíšŒ ì „ì²´ ê´€ë¦¬
    9: ìŠˆí¼ ê´€ë¦¬ì (Super Admin) - ì‹œìŠ¤í…œ ì „ì²´ ê´€ë¦¬
    */
    assigned_by INTEGER REFERENCES super_admins(id), -- ë°°ì •í•œ ìŠˆí¼ê´€ë¦¬ì 
    is_active BOOLEAN DEFAULT true,             -- í™œì„± ìƒíƒœ
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N) 
    last_login TIMESTAMP,                       -- ë§ˆì§€ë§‰ ë¡œê·¸ì¸
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- ê´€ë¦¬ì ì¸ë±ìŠ¤
CREATE INDEX idx_admin_users_username ON admin_users(username);
CREATE INDEX idx_admin_users_exhibition ON admin_users(exhibition_id);
CREATE INDEX idx_admin_users_permission ON admin_users(permission_level);
CREATE INDEX idx_admin_users_active ON admin_users(is_active, is_deleted);
```

#### 4. ìƒí’ˆ ê´€ë¦¬ (products) - ìƒì„±ì ì¶”ê°€
```sql
CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    exhibition_id INTEGER REFERENCES exhibitions(id),
    name VARCHAR(200) NOT NULL,                 -- ìƒí’ˆëª…
    type VARCHAR(50) NOT NULL,                  -- ëŒ€ì¸/ì†Œì¸
    base_price INTEGER NOT NULL,                -- ê¸°ë³¸ ê°€ê²© 
    total_quantity INTEGER NOT NULL,            -- ì´ ìˆ˜ëŸ‰
    available_quantity INTEGER NOT NULL,        -- ì”ì—¬ ìˆ˜ëŸ‰
    sale_start TIMESTAMP,                       -- íŒë§¤ ì‹œì‘
    sale_end TIMESTAMP,                         -- íŒë§¤ ì¢…ë£Œ
    created_by INTEGER REFERENCES admin_users(id), -- ë“±ë¡í•œ ê´€ë¦¬ì 
    is_active BOOLEAN DEFAULT true,
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N) 
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- ìƒí’ˆ ì¸ë±ìŠ¤
CREATE INDEX idx_products_exhibition ON products(exhibition_id);
CREATE INDEX idx_products_created_by ON products(created_by);
CREATE INDEX idx_products_active ON products(is_active, is_deleted);
CREATE INDEX idx_products_sale_period ON products(sale_start, sale_end);
```

#### 5. ìƒí’ˆ ì˜µì…˜ ê´€ë¦¬ (product_options) 
```sql
CREATE TABLE product_options (
    id SERIAL PRIMARY KEY,
    product_id INTEGER REFERENCES products(id),
    option_name VARCHAR(100) NOT NULL,          -- ì˜µì…˜ëª… (ì˜ˆ: ì¡°ì¡°í• ì¸, ì£¼ë§í• ì¸)
    price_adjustment INTEGER NOT NULL,          -- ê°€ê²© ì¡°ì • (+/- ê¸ˆì•¡)
    stock_quantity INTEGER NOT NULL,            -- ì˜µì…˜ë³„ ì¬ê³  ìˆ˜ëŸ‰
    available_quantity INTEGER NOT NULL,        -- ì˜µì…˜ë³„ ì”ì—¬ ìˆ˜ëŸ‰
    is_active BOOLEAN DEFAULT true,
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N)
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- ìƒí’ˆ ì˜µì…˜ ì¸ë±ìŠ¤
CREATE INDEX idx_product_options_product ON product_options(product_id);
CREATE INDEX idx_product_options_active ON product_options(is_active, is_deleted);
```

#### 6. ì£¼ë¬¸ ê´€ë¦¬ (orders) - ì…ì¥ ì£¼ë¬¸ë‚´ì—­
```sql
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    order_number VARCHAR(50) UNIQUE NOT NULL,   -- ì£¼ë¬¸ë²ˆí˜¸
    exhibition_id INTEGER REFERENCES exhibitions(id),
    customer_name VARCHAR(100) NOT NULL,        -- êµ¬ë§¤ìëª…
    customer_phone VARCHAR(20) NOT NULL,        -- êµ¬ë§¤ì ì „í™”ë²ˆí˜¸
    customer_email VARCHAR(200),                -- êµ¬ë§¤ì ì´ë©”ì¼
    total_amount INTEGER NOT NULL,              -- ì´ ê¸ˆì•¡
    payment_status VARCHAR(50) DEFAULT 'pending', -- ê²°ì œ ìƒíƒœ
    payment_method VARCHAR(50),                 -- ê²°ì œ ë°©ë²•
    payment_key VARCHAR(200),                   -- í† ìŠ¤í˜ì´ë¨¼ì¸  í‚¤
    visit_date DATE,                           -- ë°©ë¬¸ ì˜ˆì •ì¼
    status VARCHAR(50) DEFAULT 'reserved',      -- ì£¼ë¬¸ ìƒíƒœ
    qr_code VARCHAR(500),                      -- QR ì½”ë“œ
    entrance_checked BOOLEAN DEFAULT false,     -- ì…ì¥ í™•ì¸
    entrance_time TIMESTAMP,                   -- ì…ì¥ ì‹œê°„
    entrance_checked_by INTEGER REFERENCES admin_users(id), -- ì…ì¥ ì²˜ë¦¬ ê´€ë¦¬ì 
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N) 
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- ì£¼ë¬¸ ì¸ë±ìŠ¤
CREATE INDEX idx_orders_number ON orders(order_number);
CREATE INDEX idx_orders_exhibition ON orders(exhibition_id);
CREATE INDEX idx_orders_payment_status ON orders(payment_status);
CREATE INDEX idx_orders_customer_phone ON orders(customer_phone);
CREATE INDEX idx_orders_visit_date ON orders(visit_date);
CREATE INDEX idx_orders_created_at ON orders(created_at);
```

#### 7. ì£¼ë¬¸ ìƒí’ˆ (order_items) - ì˜µì…˜ ì§€ì›
```sql
CREATE TABLE order_items (
    id SERIAL PRIMARY KEY,
    order_id INTEGER REFERENCES orders(id),
    product_id INTEGER REFERENCES products(id),
    product_option_id INTEGER REFERENCES product_options(id), -- ì„ íƒëœ ì˜µì…˜ 
    quantity INTEGER NOT NULL,                  -- ìˆ˜ëŸ‰
    unit_price INTEGER NOT NULL,               -- ë‹¨ê°€ (ì˜µì…˜ í¬í•¨) 
    total_price INTEGER NOT NULL,              -- ì†Œê³„
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N) 
    created_at TIMESTAMP DEFAULT NOW()
);

-- ì£¼ë¬¸ ìƒí’ˆ ì¸ë±ìŠ¤
CREATE INDEX idx_order_items_order ON order_items(order_id);
CREATE INDEX idx_order_items_product ON order_items(product_id);
CREATE INDEX idx_order_items_option ON order_items(product_option_id);
```

#### 8. ê³µì§€ì‚¬í•­ (notices) 
```sql
CREATE TABLE notices (
    id SERIAL PRIMARY KEY,
    exhibition_id INTEGER REFERENCES exhibitions(id),
    title VARCHAR(200) NOT NULL,                -- ê³µì§€ì‚¬í•­ ì œëª©
    content TEXT NOT NULL,                      -- ê³µì§€ì‚¬í•­ ë‚´ìš©
    author_id INTEGER REFERENCES admin_users(id), -- ì‘ì„±ì
    is_important BOOLEAN DEFAULT false,         -- ì¤‘ìš” ê³µì§€ ì—¬ë¶€
    is_active BOOLEAN DEFAULT true,             -- ë…¸ì¶œ ìƒíƒœ
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N)
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- ê³µì§€ì‚¬í•­ ì¸ë±ìŠ¤
CREATE INDEX idx_notices_exhibition ON notices(exhibition_id);
CREATE INDEX idx_notices_author ON notices(author_id);
CREATE INDEX idx_notices_active ON notices(is_active, is_deleted);
CREATE INDEX idx_notices_important ON notices(is_important);
```

#### 9. ê³µì§€ì‚¬í•­ ì²¨ë¶€íŒŒì¼ (notice_attachments) 
```sql
CREATE TABLE notice_attachments (
    id SERIAL PRIMARY KEY,
    notice_id INTEGER REFERENCES notices(id),
    original_filename VARCHAR(255) NOT NULL,    -- ì›ë³¸ íŒŒì¼ëª…
    stored_filename VARCHAR(255) NOT NULL,      -- ì €ì¥ëœ íŒŒì¼ëª…
    file_path VARCHAR(500) NOT NULL,            -- íŒŒì¼ ê²½ë¡œ
    file_size INTEGER NOT NULL,                 -- íŒŒì¼ í¬ê¸° (bytes)
    file_type VARCHAR(100),                     -- MIME íƒ€ì…
    is_deleted CHAR(1) DEFAULT 'N',             -- ì‚­ì œ ìƒíƒœ (Y/N)
    created_at TIMESTAMP DEFAULT NOW()
);

-- ì²¨ë¶€íŒŒì¼ ì¸ë±ìŠ¤
CREATE INDEX idx_notice_attachments_notice ON notice_attachments(notice_id);
CREATE INDEX idx_notice_attachments_active ON notice_attachments(is_deleted);
```

#### 10. ê´€ë¦¬ì í™œë™ ë¡œê·¸ (admin_activity_logs) 
```sql
CREATE TABLE admin_activity_logs (
    id SERIAL PRIMARY KEY,
    admin_id INTEGER REFERENCES admin_users(id),
    admin_type VARCHAR(20) DEFAULT 'admin',     -- 'super' or 'admin'
    exhibition_id INTEGER REFERENCES exhibitions(id),
    action VARCHAR(100) NOT NULL,               -- ìˆ˜í–‰í•œ ì‘ì—…
    target_table VARCHAR(50),                   -- ëŒ€ìƒ í…Œì´ë¸”
    target_id INTEGER,                          -- ëŒ€ìƒ ID
    old_values JSONB,                          -- ë³€ê²½ ì „ ê°’
    new_values JSONB,                          -- ë³€ê²½ í›„ ê°’
    ip_address INET,                           -- IP ì£¼ì†Œ
    user_agent TEXT,                           -- ë¸Œë¼ìš°ì € ì •ë³´
    created_at TIMESTAMP DEFAULT NOW()
);

-- í™œë™ ë¡œê·¸ ì¸ë±ìŠ¤
CREATE INDEX idx_activity_logs_admin ON admin_activity_logs(admin_id);
CREATE INDEX idx_activity_logs_exhibition ON admin_activity_logs(exhibition_id);
CREATE INDEX idx_activity_logs_action ON admin_activity_logs(action);
CREATE INDEX idx_activity_logs_created_at ON admin_activity_logs(created_at);
```

### ì´ˆê¸° ë°ì´í„° ìŠ¤í¬ë¦½íŠ¸

#### ìŠˆí¼ ê´€ë¦¬ì ê³„ì • ìƒì„±
```sql
-- ì´ˆê¸° ìŠˆí¼ ê´€ë¦¬ì ê³„ì • (ë¹„ë°€ë²ˆí˜¸: admin123)
INSERT INTO super_admins (username, password_hash, name, email, phone) VALUES
('superadmin', '$2b$12$EixZaYVK1fsbw1ZfbX3OXePaWxn96p36WQoeG6Lruj3vjPGga31lW', 'ì‹œìŠ¤í…œ ê´€ë¦¬ì', 'admin@exhibition.com', '010-0000-0000');

-- ìƒ˜í”Œ ì „ì‹œíšŒ ë°ì´í„°
INSERT INTO exhibitions (code, name, description, start_date, end_date, venue, created_by) VALUES
('aaa', '2025 ë¯¸ìˆ  ì „ì‹œíšŒ', 'í˜„ëŒ€ ë¯¸ìˆ  ì‘í’ˆì„ ê°ìƒí•  ìˆ˜ ìˆëŠ” ì „ì‹œíšŒ', '2025-08-01', '2025-08-31', 'ì„œìš¸ ë¯¸ìˆ ê´€', 1),
('bbb', '2025 ê³¼í•™ ë°•ëŒíšŒ', 'ìµœì‹  ê³¼í•™ ê¸°ìˆ ì„ ì²´í—˜í•  ìˆ˜ ìˆëŠ” ë°•ëŒíšŒ', '2025-09-01', '2025-09-30', 'ë¶€ì‚° ê³¼í•™ê´€', 1),
('ccc', '2025 ë¬¸í™” ì¶•ì œ', 'ì „í†µ ë¬¸í™”ë¥¼ ê²½í—˜í•  ìˆ˜ ìˆëŠ” ì¶•ì œ', '2025-10-01', '2025-10-31', 'ê²½ì£¼ ë¬¸í™”ì›', 1);
```

### ë°ì´í„°ë² ì´ìŠ¤ ê´€ê³„ë„

```
super_admins (ìŠˆí¼ ê´€ë¦¬ì)
    â†“ created_by
exhibitions (ì „ì‹œíšŒ)
    â†“ exhibition_id         â†“ manager_id
products (ìƒí’ˆ)         admin_users (ë‹´ë‹¹ì)
    â†“ product_id               â†“ admin_id
product_options (ì˜µì…˜)    admin_activity_logs (í™œë™ë¡œê·¸)
    â†“ product_option_id
order_items (ì£¼ë¬¸ìƒí’ˆ)
    â†“ order_id
orders (ì£¼ë¬¸)
    â†“ exhibition_id
exhibitions (ì „ì‹œíšŒ)
```

---

## ğŸ” ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´ ì‹œìŠ¤í…œ

### ê¶Œí•œ ë ˆë²¨ ì •ì˜

#### Level 9: ìŠˆí¼ ê´€ë¦¬ì (Super Admin)
```python
ê¶Œí•œ ë²”ìœ„:
âœ… ëª¨ë“  ì „ì‹œíšŒ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
âœ… ëª¨ë“  ë‹´ë‹¹ì ê³„ì • ê´€ë¦¬ (ìƒì„±/ìˆ˜ì •/ì‚­ì œ)
âœ… ëª¨ë“  ì „ì‹œíšŒ ë°ì´í„° ì ‘ê·¼
âœ… ì „ì²´ ì‹œìŠ¤í…œ í†µê³„ ì¡°íšŒ
âœ… ì‹œìŠ¤í…œ ì„¤ì • ë³€ê²½
âœ… ëª¨ë“  í™œë™ ë¡œê·¸ ì¡°íšŒ

ì ‘ê·¼ ê°€ëŠ¥ API:
- /api/super/** (ëª¨ë“  ìŠˆí¼ ê´€ë¦¬ì API)
- /api/admin/** (ëª¨ë“  ì¼ë°˜ ê´€ë¦¬ì API)
- /api/exhibitions/** (ëª¨ë“  ì „ì‹œíšŒ API)
```

#### Level 3: ì „ì‹œíšŒ ë‹´ë‹¹ì (Exhibition Manager)
```python
ê¶Œí•œ ë²”ìœ„:
âœ… ë‹´ë‹¹ ì „ì‹œíšŒì˜ ëª¨ë“  ê´€ë¦¬ ê¶Œí•œ
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ ìƒí’ˆ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ ì£¼ë¬¸ ì¡°íšŒ/ê´€ë¦¬
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ ì…ì¥ ê´€ë¦¬
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ í†µê³„ ì¡°íšŒ
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ ê³µì§€ì‚¬í•­ ê´€ë¦¬
âŒ ë‹¤ë¥¸ ì „ì‹œíšŒ ë°ì´í„° ì ‘ê·¼ ë¶ˆê°€

ì ‘ê·¼ ê°€ëŠ¥ API:
- /api/admin/profile (ë³¸ì¸ ì •ë³´)
- /api/admin/exhibition (ë‹´ë‹¹ ì „ì‹œíšŒë§Œ)
- /api/admin/products (ë‹´ë‹¹ ì „ì‹œíšŒë§Œ)
- /api/admin/orders (ë‹´ë‹¹ ì „ì‹œíšŒë§Œ)
- /api/admin/entrance (ë‹´ë‹¹ ì „ì‹œíšŒë§Œ)
- /api/admin/notices (ë‹´ë‹¹ ì „ì‹œíšŒë§Œ)
```

#### Level 2: ì¼ë°˜ ê´€ë¦¬ì (Staff)
```python
ê¶Œí•œ ë²”ìœ„:
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ ìƒí’ˆ ë“±ë¡/ìˆ˜ì •
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ ì£¼ë¬¸ ì¡°íšŒ
âŒ ì‚­ì œ ê¶Œí•œ ì—†ìŒ
âŒ í†µê³„ ì ‘ê·¼ ì œí•œ
âŒ ì…ì¥ ê´€ë¦¬ ê¶Œí•œ ì—†ìŒ

ì ‘ê·¼ ê°€ëŠ¥ API:
- /api/admin/products (GET, POST, PUTë§Œ)
- /api/admin/orders (GETë§Œ)
```

#### Level 1: ì¡°íšŒ ì „ìš© (Viewer)
```python
ê¶Œí•œ ë²”ìœ„:
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ í†µê³„ ì¡°íšŒ
âœ… ë‹´ë‹¹ ì „ì‹œíšŒ ì£¼ë¬¸ë‚´ì—­ ì¡°íšŒ
âŒ ëª¨ë“  ìˆ˜ì •/ì‚­ì œ ê¶Œí•œ ì—†ìŒ

ì ‘ê·¼ ê°€ëŠ¥ API:
- /api/admin/dashboard (GETë§Œ)
- /api/admin/orders (GETë§Œ)
- /api/admin/statistics (GETë§Œ)
```

### ê¶Œí•œ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´ êµ¬í˜„

#### FastAPI ê¶Œí•œ ë°ì½”ë ˆì´í„°
```python
# app/utils/auth.py
from functools import wraps
from fastapi import HTTPException, Depends, status
from fastapi.security import HTTPBearer, HTTPAuthorizationCredentials
from sqlalchemy.orm import Session
import jwt
from typing import Optional

from app.database import get_db
from app.models.admin_user import AdminUser
from app.models.super_admin import SuperAdmin
from app.config import settings

security = HTTPBearer()

def get_current_user(
    credentials: HTTPAuthorizationCredentials = Depends(security),
    db: Session = Depends(get_db)
):
    """í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ"""
    try:
        payload = jwt.decode(
            credentials.credentials, 
            settings.SECRET_KEY, 
            algorithms=[settings.ALGORITHM]
        )
        username: str = payload.get("sub")
        user_type: str = payload.get("type", "admin")  # 'super' or 'admin'
        
        if username is None:
            raise HTTPException(
                status_code=status.HTTP_401_UNAUTHORIZED,
                detail="Invalid authentication credentials"
            )
            
    except jwt.PyJWTError:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Invalid authentication credentials"
        )
    
    # ì‚¬ìš©ì íƒ€ì…ì— ë”°ë¼ ì¡°íšŒ
    if user_type == "super":
        user = db.query(SuperAdmin).filter(
            SuperAdmin.username == username,
            SuperAdmin.is_active == True,
            SuperAdmin.is_deleted == 'N'
        ).first()
        if user:
            user.permission_level = 9  # ìŠˆí¼ ê´€ë¦¬ìëŠ” í•­ìƒ ë ˆë²¨ 9
            user.user_type = "super"
    else:
        user = db.query(AdminUser).filter(
            AdminUser.username == username,
            AdminUser.is_active == True,
            AdminUser.is_deleted == 'N'
        ).first()
        if user:
            user.user_type = "admin"
    
    if user is None:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="User not found"
        )
    
    return user

def require_permission(
    min_level: int = 1, 
    exhibition_specific: bool = True,
    allow_super: bool = True
):
    """ê¶Œí•œ ê²€ì¦ ë°ì½”ë ˆì´í„°"""
    def decorator(func):
        @wraps(func)
        async def wrapper(*args, **kwargs):
            # ì˜ì¡´ì„±ì—ì„œ current_user ê°€ì ¸ì˜¤ê¸°
            current_user = kwargs.get('current_user')
            if not current_user:
                raise HTTPException(
                    status_code=status.HTTP_401_UNAUTHORIZED,
                    detail="Authentication required"
                )
            
            # ìŠˆí¼ ê´€ë¦¬ìëŠ” ëª¨ë“  ê¶Œí•œ í—ˆìš©
            if allow_super and hasattr(current_user, 'user_type') and current_user.user_type == "super":
                return await func(*args, **kwargs)
            
            # ê¶Œí•œ ë ˆë²¨ í™•ì¸
            if current_user.permission_level < min_level:
                raise HTTPException(
                    status_code=status.HTTP_403_FORBIDDEN,
                    detail=f"Insufficient permissions. Required level: {min_level}, Current level: {current_user.permission_level}"
                )
            
            # ì „ì‹œíšŒë³„ ê¶Œí•œ í™•ì¸
            if exhibition_specific and current_user.permission_level < 9:
                exhibition_id = kwargs.get('exhibition_id') or kwargs.get('path_params', {}).get('exhibition_id')
                
                if exhibition_id and exhibition_id != current_user.exhibition_id:
                    raise HTTPException(
                        status_code=status.HTTP_403_FORBIDDEN,
                        detail="You don't have permission to access this exhibition"
                    )
            
            return await func(*args, **kwargs)
        return wrapper
    return decorator

# ì‚¬ìš© ì˜ˆì‹œ
@require_permission(min_level=3, exhibition_specific=True)
async def create_product(
    product_data: ProductCreate,
    current_user = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    """ìƒí’ˆ ìƒì„± (ì „ì‹œíšŒ ë‹´ë‹¹ì ì´ìƒ)"""
    # ìƒí’ˆ ìƒì„± ë¡œì§
    pass

@require_permission(min_level=9, exhibition_specific=False)
async def create_exhibition(
    exhibition_data: ExhibitionCreate,
    current_user = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    """ì „ì‹œíšŒ ìƒì„± (ìŠˆí¼ ê´€ë¦¬ìë§Œ)"""
    # ì „ì‹œíšŒ ìƒì„± ë¡œì§
    pass
```

#### í™œë™ ë¡œê·¸ ê¸°ë¡ ì‹œìŠ¤í…œ
```python
# app/utils/activity_logger.py
from sqlalchemy.orm import Session
from app.models.admin_activity_log import AdminActivityLog
from typing import Optional, Dict, Any
import json

async def log_admin_activity(
    db: Session,
    admin_id: int,
    admin_type: str,  # 'super' or 'admin'
    action: str,
    exhibition_id: Optional[int] = None,
    target_table: Optional[str] = None,
    target_id: Optional[int] = None,
    old_values: Optional[Dict[str, Any]] = None,
    new_values: Optional[Dict[str, Any]] = None,
    ip_address: Optional[str] = None,
    user_agent: Optional[str] = None
):
    """ê´€ë¦¬ì í™œë™ ë¡œê·¸ ê¸°ë¡"""
    
    activity_log = AdminActivityLog(
        admin_id=admin_id,
        admin_type=admin_type,
        exhibition_id=exhibition_id,
        action=action,
        target_table=target_table,
        target_id=target_id,
        old_values=old_values,
        new_values=new_values,
        ip_address=ip_address,
        user_agent=user_agent
    )
    
    db.add(activity_log)
    db.commit()
    
    return activity_log

# ì‚¬ìš© ì˜ˆì‹œ
@router.post("/products")
async def create_product(
    product_data: ProductCreate,
    request: Request,
    current_user = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    # ìƒí’ˆ ìƒì„±
    new_product = Product(**product_data.dict(), created_by=current_user.id)
    db.add(new_product)
    db.commit()
    
    # í™œë™ ë¡œê·¸ ê¸°ë¡
    await log_admin_activity(
        db=db,
        admin_id=current_user.id,
        admin_type=current_user.user_type,
        action="CREATE_PRODUCT",
        exhibition_id=current_user.exhibition_id,
        target_table="products",
        target_id=new_product.id,
        new_values=product_data.dict(),
        ip_address=request.client.host,
        user_agent=request.headers.get("user-agent")
    )
    
    return new_product
```

---

## ğŸ”Œ API ì„¤ê³„

### API êµ¬ì¡° ê°œìš”

```
/api/
â”œâ”€â”€ super/              # ìŠˆí¼ ê´€ë¦¬ì ì „ìš© API 
â”‚   â”œâ”€â”€ auth/           # ì¸ì¦
â”‚   â”œâ”€â”€ exhibitions/    # ì „ì‹œíšŒ ê´€ë¦¬
â”‚   â”œâ”€â”€ managers/       # ë‹´ë‹¹ì ê´€ë¦¬
â”‚   â”œâ”€â”€ dashboard/      # ì „ì²´ ëŒ€ì‹œë³´ë“œ
â”‚   â””â”€â”€ logs/           # í™œë™ ë¡œê·¸
â”œâ”€â”€ admin/              # ì „ì‹œíšŒ ë‹´ë‹¹ì API
â”‚   â”œâ”€â”€ auth/           # ì¸ì¦
â”‚   â”œâ”€â”€ profile/        # í”„ë¡œí•„ ê´€ë¦¬
â”‚   â”œâ”€â”€ exhibition/     # ë‹´ë‹¹ ì „ì‹œíšŒ ì •ë³´
â”‚   â”œâ”€â”€ products/       # ìƒí’ˆ ê´€ë¦¬
â”‚   â”œâ”€â”€ orders/         # ì£¼ë¬¸ ê´€ë¦¬
â”‚   â”œâ”€â”€ entrance/       # ì…ì¥ ê´€ë¦¬
â”‚   â”œâ”€â”€ notices/        # ê³µì§€ì‚¬í•­ ê´€ë¦¬ 
â”‚   â””â”€â”€ dashboard/      # ë‹´ë‹¹ ì „ì‹œíšŒ ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ exhibitions/        # ì¼ë°˜ ì‚¬ìš©ì API
â”‚   â””â”€â”€ {code}/         # ì „ì‹œíšŒë³„ API
â”œâ”€â”€ orders/             # ì£¼ë¬¸ API
â”œâ”€â”€ payments/           # ê²°ì œ API
â””â”€â”€ entrance/           # ì…ì¥ ê´€ë¦¬ API
```

### ìŠˆí¼ ê´€ë¦¬ì API 

#### ì¸ì¦ API
```http
POST /api/super/auth/login
Content-Type: application/json

{
  "username": "superadmin",
  "password": "admin123"
}

Response 200:
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "token_type": "bearer",
  "user": {
    "id": 1,
    "username": "superadmin",
    "name": "ì‹œìŠ¤í…œ ê´€ë¦¬ì",
    "email": "admin@exhibition.com",
    "permission_level": 9,
    "user_type": "super"
  }
}
```

#### ì „ì‹œíšŒ ê´€ë¦¬ API
```http
# ì „ì‹œíšŒ ëª©ë¡ ì¡°íšŒ
GET /api/super/exhibitions
Authorization: Bearer {token}

Response 200:
{
  "exhibitions": [
    {
      "id": 1,
      "code": "aaa",
      "name": "2025 ë¯¸ìˆ  ì „ì‹œíšŒ",
      "description": "í˜„ëŒ€ ë¯¸ìˆ  ì‘í’ˆì„ ê°ìƒí•  ìˆ˜ ìˆëŠ” ì „ì‹œíšŒ",
      "start_date": "2025-08-01",
      "end_date": "2025-08-31",
      "venue": "ì„œìš¸ ë¯¸ìˆ ê´€",
      "manager": {
        "id": 2,
        "name": "ê¹€ë‹´ë‹¹",
        "username": "manager1"
      },
      "is_active": true,
      "created_at": "2025-07-25T10:00:00Z"
    }
  ],
  "total": 1
}

# ì „ì‹œíšŒ ìƒì„±
POST /api/super/exhibitions
Authorization: Bearer {token}
Content-Type: application/json

{
  "code": "ddd",
  "name": "2025 ë””ì§€í„¸ ì•„íŠ¸ ì „ì‹œíšŒ",
  "description": "ìµœì‹  ë””ì§€í„¸ ì•„íŠ¸ë¥¼ ì²´í—˜í•  ìˆ˜ ìˆëŠ” ì „ì‹œíšŒ",
  "start_date": "2025-11-01",
  "end_date": "2025-11-30",
  "venue": "ê°•ë‚¨ ì „ì‹œê´€",
  "thumbnail_image": "https://example.com/image.jpg"
}

Response 201:
{
  "id": 4,
  "code": "ddd",
  "name": "2025 ë””ì§€í„¸ ì•„íŠ¸ ì „ì‹œíšŒ",
  "message": "ì „ì‹œíšŒê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."
}

# ì „ì‹œíšŒ ìˆ˜ì •
PUT /api/super/exhibitions/{id}
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "2025 ë””ì§€í„¸ ì•„íŠ¸ & AI ì „ì‹œíšŒ",
  "description": "AIì™€ ë””ì§€í„¸ ì•„íŠ¸ì˜ ë§Œë‚¨",
  "venue": "ê°•ë‚¨ ë””ì§€í„¸ ì „ì‹œê´€"
}

# ì „ì‹œíšŒ ì‚­ì œ (ì†Œí”„íŠ¸ ì‚­ì œ)
DELETE /api/super/exhibitions/{id}
Authorization: Bearer {token}

Response 200:
{
  "message": "ì „ì‹œíšŒê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",
  "deleted_at": "2025-07-25T15:30:00Z"
}
```

#### ë‹´ë‹¹ì ê´€ë¦¬ API
```http
# ë‹´ë‹¹ì ëª©ë¡ ì¡°íšŒ
GET /api/super/managers
Authorization: Bearer {token}

Response 200:
{
  "managers": [
    {
      "id": 2,
      "username": "manager1",
      "name": "ê¹€ë‹´ë‹¹",
      "email": "manager1@exhibition.com",
      "phone": "010-1234-5678",
      "exhibition": {
        "id": 1,
        "code": "aaa",
        "name": "2025 ë¯¸ìˆ  ì „ì‹œíšŒ"
      },
      "permission_level": 3,
      "is_active": true,
      "last_login": "2025-07-25T09:00:00Z",
      "created_at": "2025-07-20T10:00:00Z"
    }
  ],
  "total": 1
}

# ë‹´ë‹¹ì ìƒì„±
POST /api/super/managers
Authorization: Bearer {token}
Content-Type: application/json

{
  "username": "manager2",
  "name": "ë°•ë‹´ë‹¹",
  "email": "manager2@exhibition.com",
  "phone": "010-2345-6789",
  "exhibition_id": 2,
  "permission_level": 3
}

Response 201:
{
  "id": 3,
  "username": "manager2",
  "name": "ë°•ë‹´ë‹¹",
  "temp_password": "TempPass123!",
  "message": "ë‹´ë‹¹ìê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ê°€ ì´ë©”ì¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤."
}

# ë‹´ë‹¹ì ê¶Œí•œ ìˆ˜ì •
PUT /api/super/managers/{id}/permissions
Authorization: Bearer {token}
Content-Type: application/json

{
  "permission_level": 2,
  "exhibition_id": 3
}

Response 200:
{
  "message": "ê¶Œí•œì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "old_permission": 3,
  "new_permission": 2
}
```

#### ì „ì²´ ëŒ€ì‹œë³´ë“œ API
```http
GET /api/super/dashboard
Authorization: Bearer {token}

Response 200:
{
  "overview": {
    "total_exhibitions": 3,
    "active_exhibitions": 2,
    "total_managers": 5,
    "active_managers": 4
  },
  "sales_summary": {
    "total_orders": 1250,
    "total_revenue": 18750000,
    "today_orders": 45,
    "today_revenue": 675000
  },
  "exhibition_stats": [
    {
      "exhibition_code": "aaa",
      "exhibition_name": "2025 ë¯¸ìˆ  ì „ì‹œíšŒ",
      "orders_count": 500,
      "revenue": 7500000,
      "entrance_count": 450
    },
    {
      "exhibition_code": "bbb",
      "exhibition_name": "2025 ê³¼í•™ ë°•ëŒíšŒ",
      "orders_count": 750,
      "revenue": 11250000,
      "entrance_count": 700
    }
  ],
  "recent_activities": [
    {
      "admin_name": "ê¹€ë‹´ë‹¹",
      "action": "ìƒí’ˆ ë“±ë¡",
      "target": "ì¼ë°˜ ê´€ëŒê¶Œ (ëŒ€ì¸)",
      "exhibition_code": "aaa",
      "timestamp": "2025-07-25T14:30:00Z"
    }
  ]
}
```

### ì „ì‹œíšŒ ë‹´ë‹¹ì API

#### ì¸ì¦ ë° í”„ë¡œí•„ API
```http
POST /api/admin/auth/login
Content-Type: application/json

{
  "username": "manager1",
  "password": "newpassword123"
}

Response 200:
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "token_type": "bearer",
  "user": {
    "id": 2,
    "username": "manager1",
    "name": "ê¹€ë‹´ë‹¹",
    "email": "manager1@exhibition.com",
    "exhibition": {
      "id": 1,
      "code": "aaa",
      "name": "2025 ë¯¸ìˆ  ì „ì‹œíšŒ"
    },
    "permission_level": 3,
    "user_type": "admin"
  }
}

# í”„ë¡œí•„ ì¡°íšŒ
GET /api/admin/profile
Authorization: Bearer {token}

Response 200:
{
  "id": 2,
  "username": "manager1",
  "name": "ê¹€ë‹´ë‹¹",
  "email": "manager1@exhibition.com",
  "phone": "010-1234-5678",
  "exhibition": {
    "id": 1,
    "code": "aaa",
    "name": "2025 ë¯¸ìˆ  ì „ì‹œíšŒ",
    "start_date": "2025-08-01",
    "end_date": "2025-08-31",
    "venue": "ì„œìš¸ ë¯¸ìˆ ê´€"
  },
  "permission_level": 3,
  "last_login": "2025-07-25T09:00:00Z"
}

# í”„ë¡œí•„ ìˆ˜ì •
PUT /api/admin/profile
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "ê¹€ì „ì‹œ",
  "email": "kim.exhibition@example.com",
  "phone": "010-1234-9999"
}
```

#### ìƒí’ˆ ê´€ë¦¬ API
```http
# ìƒí’ˆ ëª©ë¡ ì¡°íšŒ (ë‹´ë‹¹ ì „ì‹œíšŒë§Œ)
GET /api/admin/products
Authorization: Bearer {token}

Response 200:
{
  "products": [
    {
      "id": 1,
      "name": "ì¼ë°˜ ê´€ëŒê¶Œ (ëŒ€ì¸)",
      "type": "adult",
      "base_price": 15000,
      "total_quantity": 1000,
      "available_quantity": 750,
      "sale_start": "2025-07-01T00:00:00Z",
      "sale_end": "2025-08-31T23:59:59Z",
      "options": [
        {
          "id": 1,
          "option_name": "ì¡°ì¡°í• ì¸",
          "price_adjustment": -2000,
          "available_quantity": 100
        }
      ],
      "is_active": true,
      "created_at": "2025-07-20T10:00:00Z"
    }
  ],
  "total": 1
}

# ìƒí’ˆ ë“±ë¡
POST /api/admin/products
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "ì¼ë°˜ ê´€ëŒê¶Œ (ì†Œì¸)",
  "type": "child",
  "base_price": 10000,
  "total_quantity": 500,
  "sale_start": "2025-07-01T00:00:00Z",
  "sale_end": "2025-08-31T23:59:59Z",
  "options": [
    {
      "option_name": "ì£¼ë§í• ì¸",
      "price_adjustment": -1000,
      "stock_quantity": 50
    }
  ]
}
### âœ… ìƒí’ˆ ë“±ë¡ ì‘ë‹µ

```json
Response 201:
{
  "id": 2,
  "name": "ì¼ë°˜ ê´€ëŒê¶Œ (ì†Œì¸)",
  "message": "ìƒí’ˆì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "available_quantity": 500
}
```

---

### âœï¸ ìƒí’ˆ ìˆ˜ì •

```http
PUT /api/admin/products/{id}
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "ì¼ë°˜ ê´€ëŒê¶Œ (ì†Œì¸) - íŠ¹ê°€",
  "base_price": 8000,
  "total_quantity": 600
}
```

```json
Response 200:
{
  "id": 2,
  "name": "ì¼ë°˜ ê´€ëŒê¶Œ (ì†Œì¸) - íŠ¹ê°€",
  "message": "ìƒí’ˆ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "available_quantity": 600
}
```


Response 201:
{
  "id": 2,
  "name": "ì¼ë°˜ ê´€ëŒê¶Œ (ì†Œì¸)",
  "message": "ìƒí’ˆì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "available_quantity": 500
}

# ìƒí’ˆ ìˆ˜ì •
PUT /api/admin/products/{id}
Authorization: Bearer {token}
Content-Type: application/json

{
  "name": "ì¼ë°˜ ê´€ëŒê¶Œ (ì†Œì¸) - íŠ¹ê°€",
  "base_price": 8000,
  "total_quantity": 600
}

# ìƒí’ˆ ì‚­ì œ (ì†Œí”„íŠ¸ ì‚­ì œ)
DELETE /api/admin/products/{id}
Authorization: Bearer {token}

Response 200:
{
  "message": "ìƒí’ˆì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### ì£¼ë¬¸ ê´€ë¦¬ API
```http
# ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ (ë‹´ë‹¹ ì „ì‹œíšŒë§Œ)
GET /api/admin/orders?page=1&limit=20&status=all
Authorization: Bearer {token}

Response 200:
{
  "orders": [
    {
      "id": 1,
      "order_number": "ORD20250725001",
      "customer_name": "í™ê¸¸ë™",
      "customer_phone": "010-1234-5678",
      "total_amount": 30000,
      "payment_status": "completed",
      "visit_date": "2025-08-01",
      "entrance_checked": false,
      "items": [
        {
          "product_name": "ì¼ë°˜ ê´€ëŒê¶Œ (ëŒ€ì¸)",
          "option_name": "ì¡°ì¡°í• ì¸",
          "quantity": 2,
          "unit_price": 13000,
          "total_price": 26000
        }
      ],
      "qr_code": "encoded_qr_data",
      "created_at": "2025-07-25T10:30:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 1,
    "total_pages": 1
  }
}

# ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ
GET /api/admin/orders/{order_number}
Authorization: Bearer {token}

Response 200:
{
  "id": 1,
  "order_number": "ORD20250725001",
  "customer_name": "í™ê¸¸ë™",
  "customer_phone": "010-1234-5678",
  "customer_email": "hong@example.com",
  "total_amount": 30000,
  "payment_status": "completed",
  "payment_method": "card",
  "payment_key": "toss_payment_key_123",
  "visit_date": "2025-08-01",
  "status": "reserved",
  "entrance_checked": false,
  "entrance_time": null,
  "qr_code": "encoded_qr_data",
  "items": [
    {
      "id": 1,
      "product_name": "ì¼ë°˜ ê´€ëŒê¶Œ (ëŒ€ì¸)",
      "product_type": "adult",
      "option_name": "ì¡°ì¡°í• ì¸",
      "quantity": 2,
      "unit_price": 13000,
      "total_price": 26000
    }
  ],
  "created_at": "2025-07-25T10:30:00Z"
}

# ì£¼ë¬¸ ìƒíƒœ ë³€ê²½
PATCH /api/admin/orders/{order_number}/status
Authorization: Bearer {token}
Content-Type: application/json

{
  "status": "cancelled",
  "reason": "ê³ ê° ìš”ì²­ì— ì˜í•œ ì·¨ì†Œ"
}

Response 200:
{
  "message": "ì£¼ë¬¸ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "old_status": "reserved",
  "new_status": "cancelled"
}
```

#### ì…ì¥ ê´€ë¦¬ API
```http
# QR ì½”ë“œ ìŠ¤ìº”
POST /api/admin/entrance/scan
Authorization: Bearer {token}
Content-Type: application/json

{
  "qr_code": "encoded_qr_data"
}

Response 200:
{
  "success": true,
  "order_number": "ORD20250725001",
  "customer_name": "í™ê¸¸ë™",
  "visit_date": "2025-08-01",
  "items": [
    {
      "product_name": "ì¼ë°˜ ê´€ëŒê¶Œ (ëŒ€ì¸)",
      "quantity": 2
    }
  ],
  "entrance_status": "allowed",
  "message": "ì…ì¥ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "entrance_time": "2025-08-01T10:30:00Z"
}

# ì…ì¥ í†µê³„
GET /api/admin/entrance/stats?date=2025-08-01
Authorization: Bearer {token}

Response 200:
{
  "date": "2025-08-01",
  "total_visitors": 150,
  "entrance_by_hour": [
    {"hour": 9, "count": 20},
    {"hour": 10, "count": 35},
    {"hour": 11, "count": 45},
    {"hour": 12, "count": 25},
    {"hour": 13, "count": 15},
    {"hour": 14, "count": 10}
  ],
  "entrance_by_ticket_type": {
    "adult": 100,
    "child": 50
  }
}
```

#### ê³µì§€ì‚¬í•­ ê´€ë¦¬ API 
```http
# ê³µì§€ì‚¬í•­ ëª©ë¡ ì¡°íšŒ
GET /api/admin/notices?page=1&limit=10
Authorization: Bearer {token}

Response 200:
{
  "notices": [
    {
      "id": 1,
      "title": "ì „ì‹œíšŒ ìš´ì˜ ì‹œê°„ ì•ˆë‚´",
      "content": "ì „ì‹œíšŒ ìš´ì˜ ì‹œê°„ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤...",
      "author_name": "ê¹€ë‹´ë‹¹",
      "is_important": true,
      "is_active": true,
      "attachments": [
        {
          "id": 1,
          "original_filename": "ìš´ì˜ì‹œê°„í‘œ.pdf",
          "file_size": 102400
        }
      ],
      "created_at": "2025-07-25T09:00:00Z"
    }
  ],
  "total": 1
}

# ê³µì§€ì‚¬í•­ ì‘ì„±
POST /api/admin/notices
Authorization: Bearer {token}
Content-Type: multipart/form-data

title: ìƒˆë¡œìš´ í• ì¸ í˜œíƒ ì•ˆë‚´
content: 8ì›” ì²«ì§¸ ì£¼ ë°©ë¬¸ê°ì„ ìœ„í•œ íŠ¹ë³„ í• ì¸...
is_important: true
attachments: [file1.pdf, image1.jpg]

Response 201:
{
  "id": 2,
  "title": "ìƒˆë¡œìš´ í• ì¸ í˜œíƒ ì•ˆë‚´",
  "message": "ê³µì§€ì‚¬í•­ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### ë‹´ë‹¹ ì „ì‹œíšŒ ëŒ€ì‹œë³´ë“œ API
```http
GET /api/admin/dashboard
Authorization: Bearer {token}

Response 200:
{
  "exhibition_info": {
    "code": "aaa",
    "name": "2025 ë¯¸ìˆ  ì „ì‹œíšŒ",
    "start_date": "2025-08-01",
    "end_date": "2025-08-31",
    "days_remaining": 7
  },
  "sales_summary": {
    "total_orders": 500,
    "total_revenue": 7500000,
    "today_orders": 25,
    "today_revenue": 375000
  },
  "product_summary": {
    "total_products": 3,
    "active_products": 3,
    "total_stock": 1500,
    "sold_tickets": 750
  },
  "entrance_summary": {
    "total_visitors": 450,
    "today_visitors": 20,
    "entrance_rate": 90.0
  },
  "recent_orders": [
    {
      "order_number": "ORD20250725025",
      "customer_name": "ì´***",
      "total_amount": 15000,
      "payment_status": "completed",
      "created_at": "2025-07-25T14:30:00Z"
    }
  ]
}
```

### ì¼ë°˜ ì‚¬ìš©ì API (ê¸°ì¡´ ìœ ì§€)

#### ì „ì‹œíšŒë³„ ìƒí’ˆ ì¡°íšŒ
```http
GET /api/exhibitions/{code}/products
Content-Type: application/json

Response 200:
{
  "exhibition": {
    "code": "aaa",
    "name": "2025 ë¯¸ìˆ  ì „ì‹œíšŒ",
    "description": "í˜„ëŒ€ ë¯¸ìˆ  ì‘í’ˆì„ ê°ìƒí•  ìˆ˜ ìˆëŠ” ì „ì‹œíšŒ",
    "venue": "ì„œìš¸ ë¯¸ìˆ ê´€",
    "start_date": "2025-08-01",
    "end_date": "2025-08-31"
  },
  "products": [
    {
      "id": 1,
      "name": "ì¼ë°˜ ê´€ëŒê¶Œ (ëŒ€ì¸)",
      "type": "adult",
      "base_price": 15000,
      "available_quantity": 750,
      "options": [
        {
          "id": 1,
          "option_name": "ì¡°ì¡°í• ì¸",
          "price_adjustment": -2000,
          "final_price": 13000,
          "available_quantity": 100
        },
        {
          "id": 2,
          "option_name": "ì •ìƒê°€",
          "price_adjustment": 0,
          "final_price": 15000,
          "available_quantity": 650
        }
      ]
    }
  ]
}
```

#### ì£¼ë¬¸ ìƒì„±
```http
POST /api/orders
Content-Type: application/json

{
  "exhibition_code": "aaa",
  "customer_name": "í™ê¸¸ë™",
  "customer_phone": "010-1234-5678",
  "customer_email": "hong@example.com",
  "items": [
    {
      "product_id": 1,
      "product_option_id": 1,
      "quantity": 2
    }
  ],
  "visit_date": "2025-08-01"
}

Response 201:
{
  "order_number": "ORD20250725001",
  "exhibition_code": "aaa",
  "customer_name": "í™ê¸¸ë™",
  "total_amount": 26000,
  "items": [
    {
      "product_name": "ì¼ë°˜ ê´€ëŒê¶Œ (ëŒ€ì¸)",
      "option_name": "ì¡°ì¡°í• ì¸",
      "quantity": 2,
      "unit_price": 13000,
      "total_price": 26000
    }
  ],
  "visit_date": "2025-08-01",
  "status": "pending_payment",
  "expires_at": "2025-07-25T11:00:00Z"
}
```

### ê²°ì œ API (ê¸°ì¡´ ìœ ì§€)

#### ê²°ì œ ì´ˆê¸°í™”
```http
POST /api/payments/initialize
Content-Type: application/json

{
  "order_number": "ORD20250725001",
  "amount": 26000,
  "customer_name": "í™ê¸¸ë™",
  "customer_email": "hong@example.com",
  "customer_phone": "010-1234-5678"
}

Response 200:
{
  "payment_key": "toss_payment_key_123",
  "checkout_url": "https://api.tosspayments.com/v1/payments/toss_payment_key_123",
  "order_id": "ORD20250725001",
  "amount": 26000,
  "expires_at": "2025-07-25T11:00:00Z"
}
```

#### ê²°ì œ í™•ì¸
```http
POST /api/payments/confirm
Content-Type: application/json

{
  "payment_key": "toss_payment_key_123",
  "order_id": "ORD20250725001",
  "amount": 26000
}

Response 200:
{
  "order_number": "ORD20250725001",
  "payment_status": "completed",
  "payment_method": "ì¹´ë“œ",
  "paid_at": "2025-07-25T10:45:00Z",
  "qr_code": "encoded_qr_data_for_entrance",
  "message": "ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

### ë””ë ‰í† ë¦¬ êµ¬ì¡° (ë‹¤ì¤‘ ê´€ë¦¬ì ì§€ì›)
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ [exhibition]/       # ë™ì  ë¼ìš°íŒ… (ì¼ë°˜ ì‚¬ìš©ì)
â”‚   â”‚   â”‚   â”œâ”€â”€ page.js         # ì˜ˆì•½ ë©”ì¸ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ order/          
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.js     # ì£¼ë¬¸ì„œ ì‘ì„±
â”‚   â”‚   â”‚   â”œâ”€â”€ payment/        
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.js     # ê²°ì œ í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ complete/       
â”‚   â”‚   â”‚       â””â”€â”€ page.js     # ê²°ì œ ì™„ë£Œ
â”‚   â”‚   â”œâ”€â”€ super-admin/        #  ìŠˆí¼ ê´€ë¦¬ì ì „ìš©
â”‚   â”‚   â”‚   â”œâ”€â”€ login/page.js   # ìŠˆí¼ê´€ë¦¬ì ë¡œê·¸ì¸
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.js       # ìŠˆí¼ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/page.js # ì „ì²´ ì‹œìŠ¤í…œ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ exhibitions/    # ì „ì‹œíšŒ ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # ì „ì‹œíšŒ ëª©ë¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/page.js # ì „ì‹œíšŒ ìƒì„±
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js # ì „ì‹œíšŒ ìƒì„¸
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ edit/page.js # ì „ì‹œíšŒ ìˆ˜ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ managers/       # ë‹´ë‹¹ì ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # ë‹´ë‹¹ì ëª©ë¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/page.js # ë‹´ë‹¹ì ìƒì„±
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.js # ë‹´ë‹¹ì ìƒì„¸
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ edit/page.js # ë‹´ë‹¹ì ìˆ˜ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ statistics/     # ì „ì²´ í†µê³„
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # í†µê³„ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sales/page.js # ë§¤ì¶œ í†µê³„
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ exhibitions/page.js # ì „ì‹œíšŒë³„ í†µê³„
â”‚   â”‚   â”‚   â””â”€â”€ logs/           # ì‹œìŠ¤í…œ í™œë™ ë¡œê·¸
â”‚   â”‚   â”‚       â””â”€â”€ page.js     # í™œë™ ë¡œê·¸ ì¡°íšŒ
â”‚   â”‚   â”œâ”€â”€ admin/              # ì „ì‹œíšŒ ë‹´ë‹¹ì í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ login/page.js   # ë‹´ë‹¹ì ë¡œê·¸ì¸
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.js       # ë‹´ë‹¹ì ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/page.js # ë‹´ë‹¹ ì „ì‹œíšŒ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/        # í”„ë¡œí•„ ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # í”„ë¡œí•„ ì¡°íšŒ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ edit/page.js # í”„ë¡œí•„ ìˆ˜ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ exhibition/     # ë‹´ë‹¹ ì „ì‹œíšŒ ì •ë³´
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # ì „ì‹œíšŒ ì •ë³´ ì¡°íšŒ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ edit/page.js # ì „ì‹œíšŒ ì •ë³´ ìˆ˜ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ products/       # ìƒí’ˆ ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # ìƒí’ˆ ëª©ë¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/page.js # ìƒí’ˆ ë“±ë¡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.js # ìƒí’ˆ ìƒì„¸
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ edit/page.js # ìƒí’ˆ ìˆ˜ì •
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/         # ì£¼ë¬¸ ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # ì£¼ë¬¸ ëª©ë¡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [orderNumber]/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ page.js # ì£¼ë¬¸ ìƒì„¸
â”‚   â”‚   â”‚   â”œâ”€â”€ entrance/       # ì…ì¥ ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # QR ìŠ¤ìº” í˜ì´ì§€
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ scan/page.js # QR ìŠ¤ìº” í™”ë©´
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ stats/page.js # ì…ì¥ í†µê³„
â”‚   â”‚   â”‚   â”œâ”€â”€ notices/        #  ê³µì§€ì‚¬í•­ ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.js     # ê³µì§€ì‚¬í•­ ëª©ë¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create/page.js # ê³µì§€ì‚¬í•­ ì‘ì„±
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.js # ê³µì§€ì‚¬í•­ ìƒì„¸
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ edit/page.js # ê³µì§€ì‚¬í•­ ìˆ˜ì •
â”‚   â”‚   â”‚   â””â”€â”€ statistics/     # ë‹´ë‹¹ ì „ì‹œíšŒ í†µê³„
â”‚   â”‚   â”‚       â”œâ”€â”€ page.js     # í†µê³„ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚       â”œâ”€â”€ sales/page.js # ë§¤ì¶œ ë¶„ì„
â”‚   â”‚   â”‚       â””â”€â”€ visitors/page.js # ë°©ë¬¸ì ë¶„ì„
â”‚   â”‚   â””â”€â”€ entrance/           # PWA ì…ì¥ ê´€ë¦¬
â”‚   â”‚       â”œâ”€â”€ page.js         # PWA ë©”ì¸ í˜ì´ì§€
â”‚   â”‚       â”œâ”€â”€ scan/page.js    # QR ìŠ¤ìº” í˜ì´ì§€
â”‚   â”‚       â””â”€â”€ offline/page.js # ì˜¤í”„ë¼ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ components/             # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ common/             # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading.js
â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Toast.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.js
â”‚   â”‚   â”‚   â”œâ”€â”€ ConfirmDialog.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Pagination.js
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBox.js
â”‚   â”‚   â”‚   â”œâ”€â”€ DatePicker.js
â”‚   â”‚   â”‚   â”œâ”€â”€ FileUpload.js      #  íŒŒì¼ ì—…ë¡œë“œ
â”‚   â”‚   â”‚   â””â”€â”€ PermissionGuard.js #  ê¶Œí•œ í™•ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ booking/            # ì˜ˆì•½ ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductCard.js
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductOption.js   #  ìƒí’ˆ ì˜µì…˜ ì„ íƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ QuantitySelector.js
â”‚   â”‚   â”‚   â”œâ”€â”€ CartSummary.js
â”‚   â”‚   â”‚   â””â”€â”€ VisitDatePicker.js
â”‚   â”‚   â”œâ”€â”€ payment/            # ê²°ì œ ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ TossPayment.js
â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentForm.js
â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentResult.js
â”‚   â”‚   â”‚   â””â”€â”€ QRCodeDisplay.js
â”‚   â”‚   â”œâ”€â”€ super-admin/        #  ìŠˆí¼ê´€ë¦¬ì ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ExhibitionForm.js  # ì „ì‹œíšŒ ìƒì„±/ìˆ˜ì • í¼
â”‚   â”‚   â”‚   â”œâ”€â”€ ExhibitionCard.js  # ì „ì‹œíšŒ ì¹´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ ManagerForm.js     # ë‹´ë‹¹ì ìƒì„±/ìˆ˜ì • í¼
â”‚   â”‚   â”‚   â”œâ”€â”€ ManagerCard.js     # ë‹´ë‹¹ì ì¹´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ SystemStats.js     # ì‹œìŠ¤í…œ í†µê³„
â”‚   â”‚   â”‚   â”œâ”€â”€ ActivityLogTable.js # í™œë™ ë¡œê·¸ í…Œì´ë¸”
â”‚   â”‚   â”‚   â”œâ”€â”€ SuperAdminHeader.js # ìŠˆí¼ê´€ë¦¬ì í—¤ë”
â”‚   â”‚   â”‚   â””â”€â”€ SuperAdminSidebar.js # ìŠˆí¼ê´€ë¦¬ì ì‚¬ì´ë“œë°”
â”‚   â”‚   â”œâ”€â”€ admin/              # ë‹´ë‹¹ì ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductForm.js     # ìƒí’ˆ ë“±ë¡/ìˆ˜ì • í¼
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductCard.js     # ìƒí’ˆ ì¹´ë“œ
â”‚   â”‚   â”‚   â”œâ”€â”€ ProductOption.js   #  ìƒí’ˆ ì˜µì…˜ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderTable.js      # ì£¼ë¬¸ í…Œì´ë¸”
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderDetail.js     # ì£¼ë¬¸ ìƒì„¸
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderStatus.js     # ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ NoticeForm.js      #  ê³µì§€ì‚¬í•­ ì‘ì„± í¼
â”‚   â”‚   â”‚   â”œâ”€â”€ NoticeList.js      #  ê³µì§€ì‚¬í•­ ëª©ë¡
â”‚   â”‚   â”‚   â”œâ”€â”€ ExhibitionStats.js # ì „ì‹œíšŒ í†µê³„
â”‚   â”‚   â”‚   â”œâ”€â”€ SalesChart.js      # ë§¤ì¶œ ì°¨íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ VisitorChart.js    # ë°©ë¬¸ì ì°¨íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminHeader.js     # ë‹´ë‹¹ì í—¤ë”
â”‚   â”‚   â”‚   â””â”€â”€ AdminSidebar.js    # ë‹´ë‹¹ì ì‚¬ì´ë“œë°”
â”‚   â”‚   â””â”€â”€ entrance/           # ì…ì¥ ê´€ë¦¬
â”‚   â”‚       â”œâ”€â”€ QRScanner.js       # QR ìŠ¤ìºë„ˆ
â”‚   â”‚       â”œâ”€â”€ ScanResult.js      # ìŠ¤ìº” ê²°ê³¼
â”‚   â”‚       â”œâ”€â”€ EntranceCheck.js   # ì…ì¥ í™•ì¸
â”‚   â”‚       â”œâ”€â”€ EntranceStats.js   # ì…ì¥ í†µê³„
â”‚   â”‚       â””â”€â”€ PWAInstallPrompt.js # PWA ì„¤ì¹˜ ì•ˆë‚´
â”‚   â”œâ”€â”€ hooks/                  # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ useAuth.js          # ì¸ì¦ ê´€ë¦¬ (ê¶Œí•œë³„) 
â”‚   â”‚   â”œâ”€â”€ usePermission.js    #  ê¶Œí•œ í™•ì¸
â”‚   â”‚   â”œâ”€â”€ useSuperAdmin.js    #  ìŠˆí¼ê´€ë¦¬ì ì „ìš© í›…
â”‚   â”‚   â”œâ”€â”€ useAdminManager.js  #  ë‹´ë‹¹ì ê´€ë¦¬ í›…
â”‚   â”‚   â”œâ”€â”€ useExhibition.js    #  ì „ì‹œíšŒ ê´€ë¦¬ í›…
â”‚   â”‚   â”œâ”€â”€ useProduct.js       #  ìƒí’ˆ ê´€ë¦¬ í›…
â”‚   â”‚   â”œâ”€â”€ useOrder.js         #  ì£¼ë¬¸ ê´€ë¦¬ í›…
â”‚   â”‚   â”œâ”€â”€ useNotice.js        #  ê³µì§€ì‚¬í•­ ê´€ë¦¬ í›…
â”‚   â”‚   â”œâ”€â”€ useQueue.js         # ëŒ€ê¸°ì—´ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ usePayment.js       # ê²°ì œ ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ useQRScanner.js     # QR ìŠ¤ìº”
â”‚   â”‚   â”œâ”€â”€ useLocalStorage.js  # ë¡œì»¬ ìŠ¤í† ë¦¬ì§€
â”‚   â”‚   â”œâ”€â”€ useFileUpload.js    #  íŒŒì¼ ì—…ë¡œë“œ
â”‚   â”‚   â””â”€â”€ useActivityLog.js   #  í™œë™ ë¡œê·¸
â”‚   â”œâ”€â”€ services/               # API ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ api.js              # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ superAdmin.js       #  ìŠˆí¼ê´€ë¦¬ì API
â”‚   â”‚   â”œâ”€â”€ admin.js            # ë‹´ë‹¹ì API
â”‚   â”‚   â”œâ”€â”€ exhibition.js       #  ì „ì‹œíšŒ API
â”‚   â”‚   â”œâ”€â”€ product.js          #  ìƒí’ˆ API
â”‚   â”‚   â”œâ”€â”€ order.js            #  ì£¼ë¬¸ API
â”‚   â”‚   â”œâ”€â”€ notice.js           #  ê³µì§€ì‚¬í•­ API
â”‚   â”‚   â”œâ”€â”€ booking.js          # ì˜ˆì•½ API
â”‚   â”‚   â”œâ”€â”€ payment.js          # ê²°ì œ API
â”‚   â”‚   â”œâ”€â”€ entrance.js         # ì…ì¥ API
â”‚   â”‚   â””â”€â”€ upload.js           #  íŒŒì¼ ì—…ë¡œë“œ API
â”‚   â”œâ”€â”€ middleware/             #  ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â”œâ”€â”€ auth.js             # ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â””â”€â”€ permission.js       # ê¶Œí•œ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´
â”‚   â”œâ”€â”€ context/                #  React Context
â”‚   â”‚   â”œâ”€â”€ AuthContext.js      # ì¸ì¦ ì»¨í…ìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ PermissionContext.js # ê¶Œí•œ ì»¨í…ìŠ¤íŠ¸
â”‚   â”‚   â””â”€â”€ ThemeContext.js     # í…Œë§ˆ ì»¨í…ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â”œâ”€â”€ constants.js        # ìƒìˆ˜
â”‚   â”‚   â”œâ”€â”€ helpers.js          # í—¬í¼ í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ validation.js       # ê²€ì¦ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ formatting.js       # í¬ë§·íŒ…
â”‚   â”‚   â”œâ”€â”€ permissions.js      #  ê¶Œí•œ ê´€ë ¨ ìœ í‹¸
â”‚   â”‚   â”œâ”€â”€ dateUtils.js        # ë‚ ì§œ ìœ í‹¸
â”‚   â”‚   â”œâ”€â”€ fileUtils.js        #  íŒŒì¼ ìœ í‹¸
â”‚   â”‚   â””â”€â”€ chartUtils.js       #  ì°¨íŠ¸ ìœ í‹¸
â”‚   â””â”€â”€ styles/                 # SCSS ìŠ¤íƒ€ì¼
â”‚       â”œâ”€â”€ globals.scss
â”‚       â”œâ”€â”€ variables.scss      # SCSS ë³€ìˆ˜
â”‚       â”œâ”€â”€ mixins.scss         # SCSS ë¯¹ìŠ¤ì¸
â”‚       â”œâ”€â”€ reset.scss          # CSS ë¦¬ì…‹
â”‚       â”œâ”€â”€ super-admin/        #  ìŠˆí¼ê´€ë¦¬ì ìŠ¤íƒ€ì¼
â”‚       â”‚   â”œâ”€â”€ layout.scss
â”‚       â”‚   â”œâ”€â”€ dashboard.scss
â”‚       â”‚   â”œâ”€â”€ exhibitions.scss
â”‚       â”‚   â”œâ”€â”€ managers.scss
â”‚       â”‚   â””â”€â”€ statistics.scss
â”‚       â”œâ”€â”€ admin/              # ë‹´ë‹¹ì ìŠ¤íƒ€ì¼
â”‚       â”‚   â”œâ”€â”€ layout.scss
â”‚       â”‚   â”œâ”€â”€ dashboard.scss
â”‚       â”‚   â”œâ”€â”€ products.scss
â”‚       â”‚   â”œâ”€â”€ orders.scss
â”‚       â”‚   â”œâ”€â”€ entrance.scss
â”‚       â”‚   â””â”€â”€ notices.scss    #  ê³µì§€ì‚¬í•­ ìŠ¤íƒ€ì¼
â”‚       â””â”€â”€ components/
â”‚           â”œâ”€â”€ common.scss     # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚           â”œâ”€â”€ booking.scss    # ì˜ˆì•½ ê´€ë ¨
â”‚           â”œâ”€â”€ payment.scss    # ê²°ì œ ê´€ë ¨
â”‚           â”œâ”€â”€ entrance.scss   # ì…ì¥ ê´€ë¦¬
â”‚           â””â”€â”€ forms.scss      # í¼ ê´€ë ¨
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ manifest.json           # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸  
â”‚   â”œâ”€â”€ sw.js                   # ì„œë¹„ìŠ¤ ì›Œì»¤
â”‚   â”œâ”€â”€ icons/                  # PWA ì•„ì´ì½˜
â”‚   â”‚   â”œâ”€â”€ icon-192x192.png
â”‚   â”‚   â”œâ”€â”€ icon-512x512.png
â”‚   â”‚   â””â”€â”€ apple-touch-icon.png
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ logo.png
â”‚   â”‚   â”œâ”€â”€ placeholder.jpg
â”‚   â”‚   â””â”€â”€ qr-frame.png
â”‚   â””â”€â”€ offline.html            # ì˜¤í”„ë¼ì¸ í˜ì´ì§€
â”œâ”€â”€ package.json
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tailwind.config.js          # ì‚¬ìš© ì•ˆí•¨ (SCSS ì‚¬ìš©)
â”œâ”€â”€ .env.local                  # í™˜ê²½ë³€ìˆ˜
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

#### PermissionGuard ì»´í¬ë„ŒíŠ¸ 
```javascript

---

### ğŸ—‘ï¸ ìƒí’ˆ ì‚­ì œ (ì†Œí”„íŠ¸ ì‚­ì œ)

```http
DELETE /api/admin/products/{id}
Authorization: Bearer {token}
```

```json
Response 200:
{
  "message": "ìƒí’ˆì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

---

## ğŸ ì„±ëŠ¥ ìµœì í™” ì „ëµ

### í”„ë¡ íŠ¸ì—”ë“œ ìµœì í™”
- PWA ì§€ì› (ì˜¤í”„ë¼ì¸ ëª¨ë“œ + ì•± ì„¤ì¹˜)
- Next.js App Router ê¸°ë°˜ **ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…**
- QR ìŠ¤ìºë„ˆ/ì°¨íŠ¸ **ë™ì  ë¡œë”© (Dynamic Import)**
- `React.memo` / `useMemo`ë¡œ ë¦¬ë Œë” ìµœì†Œí™”

### ë°±ì—”ë“œ ìµœì í™”
- FastAPI + async/awaitë¡œ ë¹„ë™ê¸° ì²˜ë¦¬
- PostgreSQL/Redis **Connection Pooling**
- Redis ìºì‹œ: ì¬ê³ /ê¶Œí•œ/í†µê³„/í† í° ìƒíƒœ ì €ì¥
- ì¬ê³  ì°¨ê°ì€ atomic ì—°ì‚° (e.g. Redis Lua Script)

### ë°ì´í„°ë² ì´ìŠ¤ íŠœë‹
- ê²€ìƒ‰ ì¡°ê±´ ê¸°ë°˜ ì¸ë±ìŠ¤ ìµœì í™”
- ê´€ë¦¬ì ë¡œê·¸/ì£¼ë¬¸ í…Œì´ë¸” **íŒŒí‹°ì…”ë‹ ê³ ë ¤**
- ì •ê¸° `VACUUM` + `ANALYZE`

---

## ğŸ§ª ê°œë°œ í™˜ê²½ êµ¬ì„±

### í•„ìˆ˜ ì„¤ì¹˜ í•­ëª©
- Python 3.12+
- Node.js 20+
- PostgreSQL 16+
- Redis 7+
- nginx
- yarn ë˜ëŠ” npm

### VSCode ì¶”ì²œ í™•ì¥
- ESLint / Prettier
- Python / Pylance
- REST Client ë˜ëŠ” Thunder Client

---

## ğŸ” ë³´ì•ˆ ì„¤ì •

- ëª¨ë“  APIëŠ” **JWT ì¸ì¦ ë° ê¶Œí•œ ë ˆë²¨ ê²€ì¦** í•„ìˆ˜
- ì‚¬ìš©ì/ê´€ë¦¬ì **ë¹„ë°€ë²ˆí˜¸ bcrypt í•´ì‹±**
- ê´€ë¦¬ì í™œë™ ë¡œê·¸ì— IP/User-Agent ê¸°ë¡
- XSS/CSRF ë°©ì§€:
  - ì¿ í‚¤ SameSite ì„¤ì •
  - CORS ì •ì±… ëª…í™•í™”
- ê´€ë¦¬ì ë¡œê·¸ì¸ ì‹œë„ ì‹¤íŒ¨ ì œí•œ ë° ì•Œë¦¼ ë„ì… ì˜ˆì •

---

## ğŸ“ ì˜ˆì™¸ ë° ì—ëŸ¬ ì²˜ë¦¬ ì •ì±…

| ìƒí™©                  | ì‘ë‹µ ì½”ë“œ | ë©”ì‹œì§€ ì˜ˆì‹œ                        |
|-----------------------|-----------|------------------------------------|
| ì¸ì¦ ì‹¤íŒ¨             | 401       | `"Invalid authentication"`        |
| ê¶Œí•œ ë¶€ì¡±             | 403       | `"Insufficient permissions"`      |
| ë°ì´í„° ì—†ìŒ           | 404       | `"Product not found"`             |
| ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨       | 422       | `"Visit date must be in future"`  |
| ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜         | 500       | `"Unexpected error occurred"`     |

ëª¨ë“  ì˜¤ë¥˜ëŠ” JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µë©ë‹ˆë‹¤:

```json
{
  "detail": "Insufficient permissions"
}
```

---

## ğŸ§­ ìš´ì˜ ê°€ì´ë“œ (ê°„ë‹¨ ìš”ì•½)

| ì—­í•            | ê²½ë¡œ ì˜ˆì‹œ                            | ë¹„ê³                         |
|----------------|--------------------------------------|-----------------------------|
| ìŠˆí¼ê´€ë¦¬ì      | `/super-admin/*`                     | ì „ì‹œíšŒ/ë‹´ë‹¹ì ì „ì²´ ê´€ë¦¬     |
| ì „ì‹œíšŒë‹´ë‹¹ì     | `/admin/*`                           | ìì‹  ë‹´ë‹¹ ì „ì‹œíšŒë§Œ ì ‘ê·¼ ê°€ëŠ¥ |
| ì¼ë°˜ ì‚¬ìš©ì      | `/[ì „ì‹œíšŒì½”ë“œ]/order`, `/payment` ë“± | ì˜ˆì•½, ê²°ì œ, í™•ì¸             |
| QR ì…ì¥ ìŠ¤íƒ­     | `/admin/entrance/scan`               | PWA í™˜ê²½ QR ì½”ë“œ ìŠ¤ìº” ì‚¬ìš©   |

---

## ğŸ§¾ ê¶Œí•œ ìš”ì•½ í‘œ

| ê¶Œí•œë ˆë²¨ | ì—­í•                   | ìƒí’ˆê´€ë¦¬ | ì£¼ë¬¸ì¡°íšŒ | ì£¼ë¬¸ìˆ˜ì • | ì…ì¥ê´€ë¦¬ | ê³µì§€ê´€ë¦¬ | í†µê³„ì¡°íšŒ |
|----------|-----------------------|----------|----------|----------|----------|----------|----------|
| 9        | ìŠˆí¼ ê´€ë¦¬ì           | âœ…       | âœ…       | âœ…       | âœ…       | âœ…       | âœ…       |
| 3        | ì „ì‹œíšŒ ë‹´ë‹¹ì         | âœ…       | âœ…       | âœ…       | âœ…       | âœ…       | âœ…       |
| 2        | ì¼ë°˜ ê´€ë¦¬ì (Staff)   | âœ…       | âœ…       | âŒ       | âŒ       | âŒ       | âŒ       |
| 1        | ì¡°íšŒ ì „ìš© (Viewer)    | âŒ       | âœ…       | âŒ       | âŒ       | âŒ       | âœ…       |

---

## ğŸ“Œ ë§ˆì§€ë§‰ ì°¸ê³ 

- ëª¨ë“  API ì‘ë‹µì€ **REST í‘œì¤€ ê·œê²©**ì„ ë”°ë¥´ë©° `status code`ì— ë”°ë¼ ì˜ë¯¸ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•©ë‹ˆë‹¤.
- ê´€ë¦¬ì íŒ¨ë„ì€ ëª¨ë“  ì£¼ìš” ì•¡ì…˜ ì‹œ **í™œë™ ë¡œê·¸ ê¸°ë¡**ì´ ë°±ì—”ë“œì—ì„œ ìë™ ìˆ˜í–‰ë©ë‹ˆë‹¤.
- ì „ì‹œíšŒ ê°„ **ë°ì´í„° ê²©ë¦¬**ë¥¼ ìœ ì§€í•˜ì—¬, ë‹¤ë¥¸ ë‹´ë‹¹ìì˜ ë°ì´í„°ì—ëŠ” ì ˆëŒ€ ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
